# Flask
SECRET_KEY=replace-with-strong-random-value
JWT_SECRET_KEY=replace-with-strong-random-value
FLASK_DEBUG=false

# Database (Docker prod plan A: postgres container)
POSTGRES_DB=flaskdb
POSTGRES_USER=flaskuser
POSTGRES_PASSWORD=replace-with-strong-password
DB_HOST=db
DB_PORT=5432
DB_NAME=flaskdb
DB_USER=flaskuser
DB_PASS=replace-with-strong-password

# Optional runtime URL override (plan B: RDS)
# DATABASE_URL=postgresql://user:password@rds-endpoint:5432/flaskdb

# BRAPI
BRAPI_KEY=

# Domain / TLS
DOMAIN=api.auraxis.com.br
CERTBOT_EMAIL=you@example.com

# Startup strategy
# Use migrations when folder exists; otherwise entrypoint falls back to AUTO_CREATE_DB=true.
AUTO_CREATE_DB=false
MIGRATE_ON_START=true
DB_WAIT_TIMEOUT=90

# Gunicorn
GUNICORN_WORKERS=2
GUNICORN_THREADS=2
GUNICORN_TIMEOUT=60

# Rate limiting (S2 baseline)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT_LIMIT=300
RATE_LIMIT_DEFAULT_WINDOW_SECONDS=60
RATE_LIMIT_AUTH_LIMIT=20
RATE_LIMIT_AUTH_WINDOW_SECONDS=60
RATE_LIMIT_GRAPHQL_LIMIT=120
RATE_LIMIT_GRAPHQL_WINDOW_SECONDS=60
RATE_LIMIT_TRANSACTIONS_LIMIT=180
RATE_LIMIT_TRANSACTIONS_WINDOW_SECONDS=60
RATE_LIMIT_WALLET_LIMIT=180
RATE_LIMIT_WALLET_WINDOW_SECONDS=60
RATE_LIMIT_TRUST_PROXY_HEADERS=true

# GraphQL transport hardening (S2 baseline)
GRAPHQL_MAX_QUERY_BYTES=20000
GRAPHQL_MAX_DEPTH=8
GRAPHQL_MAX_COMPLEXITY=300
GRAPHQL_MAX_OPERATIONS=3
GRAPHQL_MAX_LIST_MULTIPLIER=50
