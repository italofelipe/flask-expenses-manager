# TASKS - Central de TODOs e Progresso

Ultima atualizacao: 2026-02-22 (bloco E concluido + X2/C4 e C6 concluidos + backlog de perfil V1 atualizado + discovery J1..J5)

## Regras de uso deste arquivo

- Este arquivo centraliza TODOs de produto, engenharia e qualidade.
- Cada tarefa deve manter: `Status`, `Progresso`, `Risco`, `Commit` (quando aplicavel).
- Ao concluir uma tarefa, atualizar `Status=Done`, `Progresso=100%` e preencher `Commit`.
- Campo `Commit` aceita:
  - hash(es) Git quando houver rastreabilidade deterministica;
  - `n/a` para execucao puramente operacional/externa ao repositorio;
  - `traceability-debt` para historico legado ainda sem hash canonico validado.

## Legenda de status

- `Todo`: ainda nao iniciada.
- `In Progress`: em andamento.
- `Blocked`: bloqueada por dependencia/decisao.
- `Done`: concluida e validada.

## Legenda visual

| Icone | Status |
|---|---|
| üü¢ | Done |
| üü° | In Progress |
| üî¥ | Blocked |
| ‚ö™ | Todo |

## Roadmap de execucao por ciclos (estrategia ativa)

Backlog executado em ciclos curtos para equilibrar estabilidade operacional, entrega de neg√≥cio e controle de d√©bito t√©cnico.

| Ciclo | Foco principal | Objetivo | Status |
|---|---|---|---|
| A | Melhorias/Ajustes de processos (agora) | Estabilizar deploy/CI/seguran√ßa operacional, reduzir risco sist√™mico e incidentes repetidos | üü¢ |
| B | Features (bloco 1) | Entregar funcionalidades de neg√≥cio em base est√°vel com paridade REST + GraphQL | üü° |
| C | D√©bitos t√©cnicos n√£o graves | Reduzir complexidade/custo de manuten√ß√£o sem alterar regra de neg√≥cio | ‚ö™ |
| D | Mais melhorias/refinamentos de processos | Evoluir DX, observabilidade e governan√ßa de entrega | ‚ö™ |
| E | Features (bloco 2) | Segunda rodada de funcionalidades com qualidade/gates consolidados | ‚ö™ |

### Ciclo A (concluido) - Estabilizacao, Automacao e Riscos graves/moderados

Objetivo: fechar lacunas operacionais que ainda derrubam deploy, geram regress√£o silenciosa ou degradam seguran√ßa em produ√ß√£o.

Crit√©rios de sa√≠da do Ciclo A:
- Deploy DEV autom√°tico e PROD manual com aprova√ß√£o e rollback validados.
- Paridade local x CI documentada e reproduz√≠vel (sem surpresa no Actions).
- Gates cr√≠ticos de seguran√ßa obrigat√≥rios no PR (ruleset/branch protection).
- Smoke REST + GraphQL autom√°tico no pipeline de deploy.

| Prioridade | Item (ID) | Entrega esperada | Status |
|---|---|---|---|
| P0 | CD-01 | Convergir runtime/path de deploy sem drift entre hosts legado/novo | üü¢ |
| P0 | CD-04 | OIDC por ambiente com least privilege e workflow de deploy confi√°vel | üü¢ |
| P0 | G11 | Branch protection/ruleset com checks obrigat√≥rios efetivos | üü¢ |
| P0 | API-TEST-01 | Suite REST+GraphQL integrada ao CI como gate de smoke/regress√£o | üü¢ |
| P1 | G6 | Secret scanning e hardening no pre-commit/CI | üü¢ |
| P1 | G7 | Schemathesis calibrado para contrato OpenAPI | üü¢ |
| P1 | G9 | Snyk calibrado sem falso positivo recorrente | üü¢ |
| P1 | G15 | Cursor Bugbot calibrado no fluxo de review | üü¢ |
| P1 | GQL-ERR-01 | Cat√°logo de erros GraphQL claro + seguro (sem leak interno) | üü¢ |
| P1 | I8 | Hardening de produ√ß√£o (IAM/secrets/TLS/least privilege/runbook) | üü¢ |

### Snapshot de retomada (continuidade)

Estado atual consolidado:
- Ciclo A concluido com deploy DEV/PROD validado, governanca ativa e auditoria de seguranca operacional ativa.
- Bloco de metas (`E1` a `E6`) concluido com paridade REST + GraphQL.
- Debito tecnico X2/C4 concluido com adapters REST/GraphQL mais finos.
- Endpoint unificado de vencimentos (`C6`) concluido com paridade REST + GraphQL.
- Foco atual de produto: evolucao de perfil V1 (auto declaracao + questionario indicativo + campos minimos).

Pendencias de execucao imediata (ordem sugerida):
1. `B8` campos minimos de perfil V1 com retrocompatibilidade (`monthly_income` -> `monthly_income_net`).
2. `B9` fluxo de perfil de investidor auto declarado.
3. `B10` questionario indicativo (5-10 perguntas) para sugestao de perfil.
4. `B11` persistencia/exposicao do perfil sugerido e `taxonomy_version`.
5. `B4 -> B6` recuperacao de senha por link (seguranca de conta).

### Ciclo B (planejado) - Features bloco 1

| Sequencia | Itens alvo iniciais |
|---|---|
| B1 | E1, E2, E3 (metas: model + CRUD + servi√ßo base) |
| B2 | F1, F2, F3, F4 (auxiliares e integra√ß√£o em transa√ß√µes) |
| B3 | C6 (vencimentos por range com paridade REST + GraphQL) |
| B4 | B4, B5, B6, B7 (recupera√ß√£o de senha por link + descoberta de OTP por celular) |
| B5 | B8, B9, B10, B11 (perfil V1: campos m√≠nimos + auto declara√ß√£o + question√°rio indicativo) |

#### Descoberta de produto/engenharia para B4 (n√£o priorit√°rio)

| Item | Viabilidade | Complexidade | Ader√™ncia ao produto | Riscos principais | Oportunidades |
|---|---|---|---|---|---|
| Endpoint `esqueci minha senha` | Alta | Baixa | Alta (fluxo esperado por qualquer usu√°rio) | Enumera√ß√£o de contas se resposta variar por usu√°rio existente | Padronizar onboarding de seguran√ßa e reduzir suporte manual |
| Envio de link de recupera√ß√£o | Alta | M√©dia | Alta | Token fraco/reutiliz√°vel, abuso de envio, entregabilidade de email | Base para notifica√ß√µes transacionais futuras |
| Redefini√ß√£o por link | Alta | M√©dia | Alta | Replay de token, redefini√ß√£o sem invalida√ß√£o de sess√µes antigas | Fortalecer pol√≠tica de sess√£o e credenciais |
| Fluxo alternativo por OTP (SMS) | M√©dia | Alta | M√©dia/Alta (mobile-first) | Custo recorrente, fraude de SIM swap, depend√™ncia de provedor externo | Trilha para MFA e recupera√ß√£o assistida |

Observa√ß√µes de escopo B4:
- Priorizar implementa√ß√£o por link (`B4`, `B5`, `B6`) antes de OTP.
- Resposta do endpoint de solicita√ß√£o deve ser idempotente e neutra para evitar enumera√ß√£o.
- OTP via celular permanece em discovery at√© decis√£o de provedor, custo e requisitos de seguran√ßa/LGPD.

#### Descoberta de produto/engenharia para dados externos e conveniencia (nao iniciado)

| Item | Viabilidade | Complexidade | Ader√™ncia ao produto | Riscos principais | Oportunidades |
|---|---|---|---|---|---|
| Exportacao CSV/XLSX por periodo (15/30/90/180, desde inicio, range) | Alta | Media | Alta | consistencia de periodo/timezone e estabilidade de contrato de arquivo | reduz atrito para analise externa e compartilhamento |
| Importacao de relatorios bancarios + conciliacao com lancamentos manuais | Alta | Alta | Alta | variacao de layout por banco, deduplicacao incorreta, qualidade de dados | acelera onboarding de historico financeiro real |
| Insights com LLM sobre gastos/importacoes + sugestao de duplicidade | Media | Alta | Alta | LGPD/privacidade, custo de inferencia, explainability | diferencia produto com inteligencia de uso pratico |
| Aba Ferramentas (rescisao, salario liquido, ferias, 13o, dividir conta etc.) | Alta | Media | Media/Alta | manutencao de regras trabalhistas/tributarias ao longo do tempo | aumenta recorrencia e utilidade do app no dia a dia |
| Open Finance/Open Banking nativo | Media | Alta | Alta | compliance, seguranca, consentimento e dependencia de parceiros | automacao de ingestao e fidelizacao de longo prazo |

Observacoes de escopo:
- Open Finance permanece como ultima fase, apos validar importacao por arquivo + conciliacao.
- Fluxo com LLM deve ser advisory-only, com trilha de auditoria e revisao humana para deduplicacao ambigua.
- Exportacao/importacao devem preservar paridade REST + GraphQL onde aplicavel e contrato de dados versionado.

### Ciclo C (planejado) - Debitos tecnicos nao graves

| Sequencia | Itens alvo iniciais |
|---|---|
| C1 | A2, A3, A4 (contrato/docs/nomenclatura/estrat√©gia de valida√ß√£o) |
| C2 | G16 remanescente + limpeza de warnings/depreca√ß√µes n√£o cr√≠ticas |
| C3 | Refactors pontuais de manutenibilidade com testes de regress√£o |
| C4 | X2 (centralizar dom√≠nio e tornar adapters REST/GraphQL camadas finas) |

### Ciclo D (planejado) - Refinamento de processo

| Sequencia | Itens alvo iniciais |
|---|---|
| D1 | Baseline de m√©tricas operacionais (lead time, fail rate, MTTR) |
| D2 | Runbooks incrementais (deploy, rollback, incident response) |
| D3 | DX local (aliases/scripts para login, checks e troubleshooting) |

## Padrao de branches e fluxo de entrega

Padr√£o adotado:
- Branch naming: `tipo/escopo-descricao-curta` (ex.: `fix/deploy-prod-ssh-443`, `feat/goals-crud-v1`, `chore/ci-local-parity`).
- Tipos recomendados: `feat`, `fix`, `refactor`, `chore`, `docs`, `test`, `perf`, `security`.
- Commits: Conventional Commits (obrigat√≥rio).

Fluxo por entrega:
1. Iniciar da `master` local atualizada.
2. Criar branch espec√≠fica para a entrega.
3. Implementar + testar local + atualizar `TASKS.md`.
4. Abrir PR e validar gates do CI.
5. Ap√≥s merge: voltar para `master`, atualizar e abrir pr√≥xima branch.

## Backlog central


| ID    | Area          | Tarefa                                                                                                                                     | Status      | Progresso | Risco                                                                                                                                                                    | Commit                           | Ultima atualizacao |
| ----- | ------------- | ------------------------------------------------------------------------------------------------------------------------------------------ | ----------- | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------- | ------------------ |
| A1    | API Base      | Padronizar contrato de resposta (sucesso/erro) em todos os endpoints                                                                       | Done        | 100%      | Baixo: padroniza√ß√£o v1/v2 aplicada em controllers, rate-limit e fluxo JWT legado/callbacks                                                                               | da2ff52, f3ef3c0, fdca6cf        | 2026-02-12         |
| A2    | API Base      | Revisar OpenAPI/Swagger para refletir rotas reais                                                                                          | Done        | 100%      | Baixo: spec agora √© registrada a partir do mapa real de rotas + teste de paridade para prevenir regress√£o                                                               | da19f35, f3ef3c0, traceability-debt | 2026-02-20         |
| A3    | API Base      | Remover inconsistencias de nomenclatura (ticker/wallet/investment)                                                                         | Done        | 100%      | Baixo: nomenclatura oficial documentada e branding legado cr√≠tico removido de docs/metadados de API                                                                     | traceability-debt                | 2026-02-20         |
| A4    | API Base      | Definir estrategia unica de validacao (Marshmallow vs Pydantic gradual)                                                                    | Done        | 100%      | Baixo: decis√£o formalizada por ADR, mantendo Marshmallow/Webargs como padr√£o runtime at√© revis√£o arquitetural expl√≠cita                                                  | traceability-debt                | 2026-02-20         |
| A5    | API Base      | Consolidar utilitarios de controller dentro dos pacotes de dominio com facade legada para retrocompatibilidade                             | Done        | 100%      | Baixo                                                                                                                                                                    | 0b5d13e                         | 2026-02-12         |
| A6    | API Base      | Modularizar login guard em componentes coesos (`context`, `settings`, `backend`, `service`) preservando retrocompatibilidade publica       | Done        | 100%      | Baixo: arquitetura simplificada sem mudanca de regra de bloqueio/cooldown                                                                                                | 4571d0f                         | 2026-02-12         |
| A7    | API Base      | Convergir arquitetura dos controllers para o baseline do `wallet` (pacote por dom√≠nio com `blueprint/contracts/dependencies/resources`)     | Done        | 100%      | Baixo: converg√™ncia conclu√≠da com facades legadas e rotas idempotentes para manter retrocompatibilidade                                                                  | 3d4294b, 49e4564, 941eed0, d767a82 | 2026-02-19         |
| A8    | API Base      | Modularizar queries GraphQL por dom√≠nio (paridade estrutural com `mutations`) mantendo facade legada `app/graphql/query.py`                 | Done        | 100%      | Baixo: modulariza√ß√£o feita com mixins por dom√≠nio e wrapper de compatibilidade                                                                                            | 3de9e06                         | 2026-02-19         |
| B1    | Usuario       | Criar endpoint dedicado para leitura de perfil (payload reduzido)                                                                          | Todo        | 0%        | Baixo                                                                                                                                                                    |                                  | 2026-02-09         |
| B2    | Usuario       | Reforcar validacoes de coerencia financeira no perfil                                                                                      | Todo        | 0%        | Medio: dados inconsistentes impactam metas                                                                                                                               |                                  | 2026-02-09         |
| B3    | Usuario       | Adicionar auditoria de atualizacao de perfil                                                                                               | Todo        | 0%        | Medio: rastreabilidade insuficiente                                                                                                                                      |                                  | 2026-02-09         |
| B4    | Autenticacao  | Criar endpoint `POST /auth/password/forgot` (ou equivalente) com resposta idempotente e neutra, rate-limit e trilha de auditoria         | Todo        | 0%        | Medio: risco de enumera√ß√£o e abuso de endpoint sem rate-limit/captcha                                                                                                   |                                  | 2026-02-19         |
| B5    | Autenticacao  | Implementar envio de link de recupera√ß√£o por email com token de uso √∫nico, expira√ß√£o curta e armazenamento seguro                         | Todo        | 0%        | Alto: depende de provedor transacional, pol√≠tica anti-abuso e gest√£o segura de token                                                                                    |                                  | 2026-02-19         |
| B6    | Autenticacao  | Implementar fluxo de redefini√ß√£o por link (`token` + nova senha), com invalida√ß√£o do token e revoga√ß√£o de sess√µes ativas                 | Todo        | 0%        | Alto: falhas em invalida√ß√£o/revoga√ß√£o deixam conta vulner√°vel p√≥s-reset                                                                                                 |                                  | 2026-02-19         |
| B7    | Autenticacao  | Discovery do fluxo alternativo de recupera√ß√£o por OTP (SMS): provedor, custos, antifraude, UX e compliance (LGPD)                       | Blocked     | 0%        | Alto: custo operacional e riscos de SIM swap; bloqueado at√© decis√£o de arquitetura/provedor                                                                             |                                  | 2026-02-19         |
| B8 | Usuario | [P1] Implementar campos m√≠nimos de perfil V1 no dom√≠nio e contratos REST/GraphQL (`state_uf`, `occupation`, `investor_profile`, `financial_objectives`, `monthly_income_net`) com retrocompatibilidade de payload |  Done  |  100%  | Alto: envolve migration e compatibilidade de contrato para evitar quebra de clientes j√° integrados |  adb529c  |  2026-02-22  |
| B9    | Usuario       | [P1] Implementar fluxo de perfil de investidor auto declarado (onboarding + edi√ß√£o de perfil) com valida√ß√£o por enum                      | Todo        | 0%        | Medio: sem valida√ß√£o de enum e regras claras, perfil pode ficar inconsistente entre telas                                                                                |                                  | 2026-02-20         |
| B10   | Usuario       | [P2] Implementar question√°rio curto (5-10 perguntas) para sugest√£o indicativa de perfil de investidor, sem substituir a auto declara√ß√£o | Todo        | 0%        | Medio: classifica√ß√£o simplificada pode gerar expectativa de precis√£o acima da proposta                                                                                    |                                  | 2026-02-20         |
| B11   | Usuario       | [P2] Persistir e expor resultado do question√°rio (`investor_profile_suggested`, `profile_quiz_score`, `taxonomy_version`) para compara√ß√£o com perfil auto declarado | Todo        | 0%        | Medio: risco de confus√£o de UX se n√£o houver explica√ß√£o clara entre perfil declarado e perfil sugerido                                                                  |                                  | 2026-02-20         |
| J1    | Discovery     | Definir e implementar exportacao de extrato financeiro em CSV/XLSX por periodo (presets 15/30/90/180 dias, desde inicio e range customizado) | Todo        | 0%        | Medio: contrato de arquivo e timezone podem gerar divergencias em conciliacao externa                                                                                   |                                  | 2026-02-22         |
| J2    | Discovery     | Implementar importacao de relatorios bancarios (arquivos) com normalizacao e consolidacao no balanco mensal junto aos lancamentos manuais   | Todo        | 0%        | Alto: variacao de formatos por banco e possivel ruido de dados                                                                                                          |                                  | 2026-02-22         |
| J3    | Discovery     | Implementar conciliacao inteligente e insights com LLM para detectar possiveis duplicidades e sugerir categorizacao/insights explicaveis    | Todo        | 0%        | Alto: privacidade/LGPD, falso positivo de deduplicacao e custo operacional de inferencia                                                                                |                                  | 2026-02-22         |
| J4    | Discovery     | Criar aba de Ferramentas com calculadoras de conveniencia (rescisao, salario liquido, ferias, 13o, hora extra, FGTS, dividir conta)        | Todo        | 0%        | Medio: manutencao de regras trabalhistas/tributarias e clareza de limites legais                                                                                        |                                  | 2026-02-22         |
| J5    | Discovery     | Discovery tecnico/regulatorio de integracao Open Finance/Open Banking (seguranca, consentimento, compliance e arquitetura)                  | Blocked     | 0%        | Alto: dependencia de compliance e parceria/provedor; iniciativa planejada para fase posterior                                                                            |                                  | 2026-02-22         |
| C1    | Transacoes    | Corrigir listagem de transacoes com filtros/paginacao reais no banco                                                                       | Done        | 100%      | Baixo                                                                                                                                                                    | 497f901                          | 2026-02-09         |
| C2    | Transacoes    | Regras fortes de recorrencia + geracao automatica idempotente                                                                              | Done        | 100%      | Baixo                                                                                                                                                                    | f3ef3c0                          | 2026-02-09         |
| C3    | Transacoes    | Consolidar regras de parcelamento (soma exata e arredondamento final)                                                                      | Done        | 100%      | Baixo                                                                                                                                                                    | 497f901                          | 2026-02-09         |
| C4    | Transacoes    | Criar endpoint de dashboard mensal (receitas, despesas, saldo, categorias)                                                                 | Done        | 100%      | Baixo                                                                                                                                                                    | 50a1f24                         | 2026-02-09         |
| C5    | Transacoes    | Endpoint de despesas por periodo com paginacao/ordenacao/metricas                                                                          | Done        | 100%      | Baixo                                                                                                                                                                    | f3ef3c0                          | 2026-02-09         |
| C6    | Transacoes    | Endpoint unificado de vencimentos (receitas+despesas) por intervalo (`initialDate/finalDate`) com ordena√ß√£o por vencidas primeiro, a vencer primeiro, data, t√≠tulo e cart√£o, com paridade REST + GraphQL | Done        | 100%      | Baixo: endpoint `due-range` entregue no dom√≠nio compartilhado (`TransactionApplicationService`) com paridade REST+GraphQL, contrato v1/v2, testes de regress√£o e OpenAPI atualizados | 4f67bc7                          | 2026-02-20         |
| D1    | Investimentos | Entidade de operacoes (`buy`/`sell`) com data, preco, quantidade, taxas                                                                    | Done        | 100%      | Baixo                                                                                                                                                                    | 94c94db, 2116a07                | 2026-02-09         |
| D2    | Investimentos | Calculo de custo medio por ativo e posicao atual                                                                                           | Done        | 100%      | Medio: requer evolucao para casos avancados (venda acima da posicao/short)                                                                                               | 2116a07                         | 2026-02-09         |
| D3    | Investimentos | Calculo de quanto investiu no dia por data de operacao                                                                                     | Done        | 100%      | Medio: cobertura de regra baseline, faltam cenarios avancados (ex.: timezone/mercado)                                                                                    | 2116a07                         | 2026-02-09         |
| D4    | Investimentos | Calculo de valor atual por ativo e consolidado (BRAPI + fallback)                                                                          | Done        | 100%      | Baixo                                                                                                                                                                    | 2116a07                         | 2026-02-09         |
| D5    | Investimentos | Calculo de P/L absoluto e percentual por ativo e consolidado                                                                               | Done        | 100%      | Baixo                                                                                                                                                                    | 2116a07                         | 2026-02-09         |
| D6    | Investimentos | Resiliencia BRAPI (timeout, retry, tratamento de erro, cache curto)                                                                        | Done        | 100%      | Medio: cache em mem√≥ria por processo (sem cache distribu√≠do)                                                                                                             | 2116a07                         | 2026-02-09         |
| D7    | Investimentos | Endpoint de evolucao historica da carteira por periodo                                                                                     | Done        | 100%      | Medio: pre√ßos hist√≥ricos dependem de disponibilidade do provider externo                                                                                                 | 2116a07                         | 2026-02-09         |
| D8    | Investimentos | Expandir carteira para acoes, FII, CDB, CDI etc. + BRAPI + ganho/perda temporal                                                            | Done        | 100%      | Medio: proje√ß√£o de renda fixa usa taxa informada pelo usu√°rio (sem curva externa)                                                                                        | 2116a07                         | 2026-02-09         |
| E1    | Metas         | Criar model `Goal`                                                                                                                         | Done        | 100%      | Baixo: model, relacionamento com usu√°rio, migration e testes de persist√™ncia adicionados com rastreabilidade expl√≠cita                                                  | ac084a4                         | 2026-02-20         |
| E2    | Metas         | Criar CRUD de metas (`/goals`)                                                                                                             | Done        | 100%      | Baixo: CRUD REST + paridade GraphQL com ownership, valida√ß√£o e contrato v1/v2, coberto por testes de contrato e regress√£o                                                | 76a75d3, 8f4cfdc               | 2026-02-20         |
| E3    | Metas         | Servico de planejamento (curto/medio/longo prazo)                                                                                          | Done        | 100%      | Baixo: servi√ßo dedicado com estrat√©gia de proje√ß√£o e testes unit√°rios, reduzindo acoplamento de regra de neg√≥cio                                                        | 03b76db                         | 2026-02-20         |
| E4    | Metas         | Calcular plano por renda, gastos e capacidade de aporte                                                                                    | Done        | 100%      | M√©dio: c√°lculo depende da qualidade dos dados de perfil (`monthly_income`/`monthly_expenses`/`monthly_investment`)                                                      | 03b76db                         | 2026-02-20         |
| E5    | Metas         | Expor recomendacoes acionaveis com data estimada                                                                                           | Done        | 100%      | M√©dio: recomenda√ß√µes baseadas em heur√≠stica linear inicial, com espa√ßo para evolu√ß√£o futura (juros/volatilidade/cen√°rios)                                                | 03b76db                         | 2026-02-20         |
| E6    | Metas         | Endpoint de simulacao sem persistencia (what-if)                                                                                           | Done        | 100%      | Baixo: simula√ß√£o sem escrita em banco dispon√≠vel em REST + GraphQL reutilizando o mesmo motor de planejamento                                                           | 03b76db                         | 2026-02-20         |
| F1    | Auxiliares    | CRUD de `Tag`                                                                                                                              | Todo        | 0%        | Baixo                                                                                                                                                                    |                                  | 2026-02-09         |
| F2    | Auxiliares    | CRUD de `Account`                                                                                                                          | Todo        | 0%        | Baixo                                                                                                                                                                    |                                  | 2026-02-09         |
| F3    | Auxiliares    | CRUD de `CreditCard`                                                                                                                       | Todo        | 0%        | Baixo                                                                                                                                                                    |                                  | 2026-02-09         |
| F4    | Auxiliares    | Integrar `Tag/Account/CreditCard` com transacoes e validacoes                                                                              | Todo        | 0%        | Medio                                                                                                                                                                    |                                  | 2026-02-09         |
| G1    | Qualidade     | Completar suite de testes por dominio                                                                                                      | Done        | 100%      | Baixo: cobertura por dom√≠nio consolidada em REST/GraphQL com regress√£o autom√°tica para auth/user/transactions/wallet/investments                                        | traceability-debt                | 2026-02-20         |
| G2    | Qualidade     | Testes de integracao BRAPI com mocks/fakes                                                                                                 | Done        | 100%      | Baixo: falhas reais de provider (timeout) cobertas em fluxos de API REST + GraphQL com fallback seguro validado                                                         | traceability-debt                | 2026-02-20         |
| G3    | Qualidade     | Enforce de cobertura minima no CI                                                                                                          | Done        | 100%      | Baixo: gate de cobertura em CI/local ativo (`--cov-fail-under=85`) e baseline atual sustentado em ~90%                                                                   | traceability-debt                | 2026-02-20         |
| G4    | Qualidade     | Pipeline CI para lint, type-check, testes e gates de qualidade                                                                             | Done        | 100%      | Baixo: fluxo CI estabilizado com smoke API + migrations, quality gates e evid√™ncia de seguran√ßa alinhada ao comportamento real do pipeline                                | traceability-debt                | 2026-02-20         |
| G5    | Qualidade     | Seed de dados para ambiente local                                                                                                          | Todo        | 0%        | Baixo                                                                                                                                                                    |                                  | 2026-02-09         |
| G6    | CI/Security   | Reforcar pre-commit com secret scanning confi√°vel (Gitleaks), Bandit e detec√ß√£o de private keys                                            | Done        | 100%      | Baixo: config unificada (`.gitleaks.toml`) em CI + pre-commit com baseline calibrada                                                                                     | aec8d2f                         | 2026-02-19         |
| G7    | CI/Resilience | Adicionar teste de confiabilidade de contrato OpenAPI com Schemathesis                                                                     | Done        | 100%      | Baixo: execu√ß√£o determin√≠stica com seed + script √∫nico para CI/local reduzindo flakiness                                                                                | aec8d2f                         | 2026-02-19         |
| G8    | CI/Quality    | Adicionar gate de mutation testing (Cosmic Ray) para m√≥dulos cr√≠ticos                                                                      | Done        | 100%      | M√©dio: custo de execu√ß√£o controlado por escopo e filtro de operadores                                                                                                    | traceability-debt                   | 2026-02-11         |
| G9    | CI/Security   | Integrar Snyk (depend√™ncias e container) como gate obrigat√≥rio em PR/push                                                                    | Done        | 100%      | Baixo: gate obrigat√≥rio calibrado (depend√™ncias + container) com redu√ß√£o de ru√≠do recorrente de base image                                                               | 279322f, aec8d2f                | 2026-02-19         |
| G10   | CI/Security   | Integrar scan de imagem/container com Trivy em todo PR/push                                                                                | Done        | 100%      | Baixo: pipeline validado com imagem hardenizada e scan HIGH/CRITICAL limpo no baseline atual                                                                             | traceability-debt                   | 2026-02-11         |
| G11   | CI/Governance | Formalizar pol√≠tica de branch protection + required checks + push protection no GitHub                                                     | Done        | 100%      | Baixo: ruleset aplicado e workflow Governance validado em `audit` sem drift                                                                                              | 266a876, 32b10df, 3bc9a63, 279322f | 2026-02-19         |
| G12   | CI/Quality    | Garantir paridade local do job `Quality` (script Python 3.11 + hook mypy alinhado ao CI)                                                   | Done        | 100%      | Baixo                                                                                                                                                                    | traceability-debt                   | 2026-02-11         |
| G13   | CI/Quality    | Adicionar matrix de tipagem (`mypy`) em Python 3.11 e 3.13 para reduzir regress√£o entre ambientes                                          | Done        | 100%      | Baixo: job dedicado `mypy-matrix` cobre 3.11/3.13 em paralelo                                                                                                            | traceability-debt                   | 2026-02-12         |
| G14   | CI/Quality    | Avaliar lock/constraints de depend√™ncias de tooling (lint/type/security) para builds determin√≠sticos                                       | Done        | 100%      | Baixo: `pip-audit` e stubs de tipagem fixados em vers√£o e CI sem instala√ß√£o avulsa n√£o determin√≠stica                                                                    | traceability-debt                   | 2026-02-12         |
| G15   | CI/Review     | Integrar Cursor Bugbot como camada de revis√£o autom√°tica de PR + calibrar obrigatoriedade no ruleset                                       | Done        | 100%      | Baixo: sinal de review padronizado por job advisory (`Review Signal`) sem virar gate obrigat√≥rio, reduzindo ru√≠do e mantendo visibilidade                                  | fa14f0b, 53b8f41                | 2026-02-19         |
| G16   | Quality       | Reduzir warnings globais de deprecacao (Marshmallow v4, apispec schema naming, warnings de terceiros) com plano faseado                    | Done        | 100%      | Baixo: warnings de c√≥digo pr√≥prio saneados; ru√≠do residual de bibliotecas terceiras explicitamente controlado por pol√≠tica de filtros no escopo de testes                 | traceability-debt                | 2026-02-20         |
| H1    | Arquitetura   | Adicionar suporte a GraphQL                                                                                                                | Done        | 100%      | Baixo: paridade funcional GraphQL conclu√≠da por dom√≠nio com hardening de autoriza√ß√£o/complexidade/profundidade e observabilidade por m√©tricas                              | traceability-debt                | 2026-02-20         |
| H2    | Seguranca     | Implementar rate limit por rota/usuario/IP                                                                                                 | Done        | 100%      | Baixo: rate-limit por dom√≠nio com backend distribu√≠do, fail-closed e observabilidade b√°sica                                                                              | traceability-debt                   | 2026-02-11         |
| H3    | Seguranca     | Hardening de validacao/sanitizacao/authz/headers/auditoria                                                                                 | Done        | 100%      | M√©dio: baseline aplicado; evolu√ß√£o cont√≠nua segue para monitoramento centralizado e infraestrutura S1                                                                    | traceability-debt                   | 2026-02-11         |
| I1    | Deploy Cloud  | Fechar arquitetura alvo AWS/Azure para budget de R$40/m√™s e registrar decis√£o                                                              | Done        | 100%      | Medio: custos podem variar por regi√£o/c√¢mbio                                                                                                                             | traceability-debt                   | 2026-02-09         |
| I2    | Deploy Cloud  | Preparar Docker para produ√ß√£o (Dockerfile prod, gunicorn, healthcheck)                                                                     | Done        | 100%      | Medio: diferen√ßas dev/prod podem quebrar startup                                                                                                                         | traceability-debt                   | 2026-02-09         |
| I3    | Deploy AWS    | Provisionar ambiente base na AWS (VPC, SG, inst√¢ncia Lightsail/EC2)                                                                        | Done        | 100%      | Medio: manter hardening evolutivo em I8 e runbook em I9                                                                                                                  | traceability-debt                   | 2026-02-13         |
| I4    | Deploy AWS    | Provisionar banco no plano A (PostgreSQL em container na pr√≥pria VM)                                                                       | Done        | 100%      | Medio: risco operacional sem HA gerenciado (mitigado parcialmente com backups S3 e restore drill)                                                                        | traceability-debt                   | 2026-02-13         |
| I5    | Deploy AWS    | Provisionar banco no plano B (RDS PostgreSQL) e documentar crit√©rios de fallback                                                           | Done        | 100%      | Baixo: RDS nao foi provisionado por budget; guardrails (Budgets/Anomaly) aplicados e plano B documentado                                                                 | 877c0cc                          | 2026-02-14         |
| I6    | Deploy AWS    | Configurar deploy autom√°tico (GitHub Actions -> servidor) com rollback b√°sico                                                              | Done        | 100%      | Medio: deploy DEV automatico (push master) e deploy PROD manual (workflow_dispatch) via OIDC+SSM; requer env approval para PROD no GitHub                                | 14adf1b                          | 2026-02-14         |
| I7    | Deploy AWS    | Observabilidade m√≠nima (logs centralizados, m√©tricas, alertas b√°sicos)                                                                     | Done        | 100%      | M√©dio: DEV canary via HTTP:80 (sem TLS), PROD via HTTPS:443; logs em CloudWatch Logs confirmados para web/nginx/db/redis                                                 | traceability-debt                   | 2026-02-13         |
| I8    | Deploy AWS    | Hardening de produ√ß√£o (secrets, TLS, firewall, least-privilege IAM)                                                                        | Done        | 100%      | Baixo: hardening operacional consolidado com auditoria IAM cont√≠nua e valida√ß√£o de workflow de seguran√ßa executada com sucesso em ambiente real                               | 5825206, 2b2459c, c76957f, 53b8f41 | 2026-02-19         |
| I9    | Deploy AWS    | Runbook de opera√ß√£o (backup, restore, rota√ß√£o de credenciais, incidentes)                                                                  | Done        | 100%      | Baixo: runbook consolidado em docs + scripts de validacao/operacao                                                                                                       | 877c0cc                          | 2026-02-14         |
| I10   | Deploy Cloud  | Primeiro deploy em produ√ß√£o (MVP) imediatamente ap√≥s fechar Bloco D                                                                        | Done        | 100%      | Medio: opera√ß√£o em VM √∫nica (sem HA) exige runbook e rotinas de backup/restore (I9/S1-03)                                                                                | traceability-debt                   | 2026-02-13         |
| I11   | Nginx/TLS     | Configurar Nginx em HTTP com suporte a ACME challenge (`/.well-known/acme-challenge`)                                                      | Done        | 100%      | Baixo                                                                                                                                                                    | traceability-debt                   | 2026-02-10         |
| I12   | Nginx/TLS     | Configurar compose prod para `443`, volumes de certbot e certificados                                                                      | Done        | 100%      | Medio: erro de volume/mount pode invalidar proxy                                                                                                                         | traceability-debt                   | 2026-02-10         |
| I13   | Nginx/TLS     | Provisionar emiss√£o de certificado Let's Encrypt para `api.auraxis.com.br`                                                                 | Done        | 100%      | Medio: manter valida√ß√µes p√≥s-deploy e automa√ß√£o de renova√ß√£o (I15)                                                                                                       | traceability-debt                   | 2026-02-13         |
| I14   | Nginx/TLS     | Ativar config TLS no Nginx (redirect 80->443 + headers de seguran√ßa)                                                                       | Done        | 100%      | Baixo: TLS ativo em PROD com headers de seguran√ßa; DEV segue HTTP por enquanto                                                                                           | traceability-debt                   | 2026-02-13         |
| I15   | Nginx/TLS     | Configurar renova√ß√£o autom√°tica de certificado e valida√ß√µes p√≥s-renova√ß√£o                                                                  | Done        | 100%      | Baixo: timer systemd instalado em PROD e valida√ß√£o dry-run executada via SSM                                                                                             | 575dcea, 3137cd9                 | 2026-02-13         |
| I16   | Nginx/TLS     | Checklist de valida√ß√£o local/AWS (DNS, SG, health, curl, logs, rollback)                                                                   | Done        | 100%      | Baixo: checklist automatizado em `scripts/aws_validate_i16.py` e validado contra DEV/PROD                                                                                | 2af0a95                          | 2026-02-13         |
| R1    | Rebranding    | Mapear todas ocorr√™ncias de nomenclatura legada do projeto e registrar plano de substitui√ß√£o para `auraxis`                                | Done        | 100%      | Baixo: mapeamento conclu√≠do em arquivos versionados                                                                                                                      | traceability-debt                   | 2026-02-10         |
| R2    | Rebranding    | Substituir ocorr√™ncias versionadas de nomenclatura legada por `auraxis` (sem quebrar integra√ß√µes externas)                                 | Done        | 100%      | Medio: integra√ß√µes externas podem manter identificador legado tempor√°rio                                                                                                 | traceability-debt                   | 2026-02-10         |
| S1    | AWS Security  | Restringir acesso e hardening de inst√¢ncias EC2 (SG, NACL, IMDSv2, SSH policy, patching baseline)                                          | Done        | 100%      | Baixo: baseline aplicado e validado; pend√™ncia remanescente √© apenas runbook operacional (I9) e ajustes cont√≠nuos                                                        | traceability-debt                   | 2026-02-13         |
| S1-03 | AWS Security  | Backups do PostgreSQL para S3 (bucket hardenizado + IAM least-privilege + lifecycle + versioning + restore drill + agendamento via SSM MW) | Done        | 100%      | M√©dio: ainda falta runbook de restore completo e teste de RTO/RPO com volume real                                                                                        | traceability-debt                   | 2026-02-13         |
| S1-02 | AWS Security  | Cleanup p√≥s-migra√ß√£o de EBS: revisar e remover volumes/snapshots antigos (ap√≥s janela de valida√ß√£o)                                        | Done        | 100%      | Baixo: volumes e snapshots intermedi√°rios removidos ap√≥s confirma√ß√£o                                                                                                     | traceability-debt                   | 2026-02-12         |
| S2    | App Security  | Implementar seguran√ßa de endpoints (rate-limit, valida√ß√£o/sanitiza√ß√£o de request/response, headers e authz por recurso)                    | Done        | 100%      | M√©dio: baseline completo em aplica√ß√£o; pr√≥ximos passos s√£o monitoramento centralizado e hardening de infraestrutura (S1)                                                 | traceability-debt                   | 2026-02-11         |
| S3    | App Security  | Executar checklist OWASP no sistema (ASVS/API Top 10), corrigir gaps e formalizar evid√™ncias                                               | Done        | 100%      | Baixo: checklist OWASP/ASVS consolidado com evid√™ncias atualizadas e verifica√ß√£o automatizada de controles cr√≠ticos no script de security evidence                         | traceability-debt                | 2026-02-20         |
| S4-01 | App Security  | Remover vazamento de exce√ß√µes em respostas (`str(e)`, `traceback`) e adotar erros gen√©ricos com correla√ß√£o                                 | Done        | 100%      | M√©dio: manter revis√£o cont√≠nua em novos endpoints                                                                                                                        | traceability-debt                   | 2026-02-11         |
| S4-02 | App Security  | Substituir `print` por logging estruturado com n√≠veis e pol√≠tica de redaction                                                              | Done        | 100%      | Baixo: runtime HTTP e scripts operacionais migrados para logging estruturado                                                                                             | f2bcda1                          | 2026-02-11         |
| S4-03 | App Security  | Padronizar callbacks JWT e middleware para contrato de erro √∫nico (v1/v2) e status codes consistentes                                      | Done        | 100%      | Baixo                                                                                                                                                                    | traceability-debt                   | 2026-02-11         |
| S4-04 | App Security  | Implementar limite global de tamanho de request body para endpoints REST                                                                   | Done        | 100%      | Baixo: limite parametrizado por ambiente                                                                                                                                 | traceability-debt                   | 2026-02-11         |
| S4-05 | App Security  | Endurecer pagina√ß√£o e limites de resposta (ex.: `limit` em `/user/me`, `per_page<=0` em hist√≥rico)                                         | Done        | 100%      | Baixo: limites agora expl√≠citos em REST/GraphQL                                                                                                                          | traceability-debt                   | 2026-02-11         |
| S4-06 | App Security  | Implementar sanitiza√ß√£o/normaliza√ß√£o central para campos textuais de entrada                                                               | Done        | 100%      | M√©dio: expandir para todos os schemas legados                                                                                                                            | traceability-debt                   | 2026-02-11         |
| S4-07 | App Security  | Aplicar pol√≠tica GraphQL deny-by-default para opera√ß√µes privadas e cobertura autom√°tica de autoriza√ß√£o por resolver                        | Done        | 100%      | Baixo: transporte GraphQL j√° bloqueia chamadas privadas sem auth                                                                                                         | traceability-debt                   | 2026-02-11         |
| S4-08 | App Security  | Tornar introspec√ß√£o GraphQL configur√°vel por ambiente (desabilitar em PROD por padr√£o)                                                     | Done        | 100%      | Baixo                                                                                                                                                                    | traceability-debt                   | 2026-02-11         |
| S4-09 | App Security  | Endurecer consumo BRAPI (allowlist de ticker, valida√ß√£o estrita de resposta, fallback defensivo)                                           | Done        | 100%      | M√©dio: valida√ß√£o conclu√≠da; falta telemetria por c√≥digos de erro de provider (item S4-17)                                                                                | traceability-debt                   | 2026-02-11         |
| S4-10 | App Security  | Evoluir rate-limit e revoga√ß√£o de token para storage distribu√≠do (Redis)                                                                   | Done        | 100%      | Baixo: backend distribu√≠do com observabilidade/runbook e helper legado de revoga√ß√£o alinhado ao source-of-truth persistido                                               | traceability-debt                   | 2026-02-11         |
| S4-11 | App Security  | Remover fallback de secrets fracos em runtime n√£o-dev e falhar startup sem segredos fortes                                                 | Done        | 100%      | Baixo: bloqueio de startup em runtime inseguro                                                                                                                           | traceability-debt                   | 2026-02-11         |
| S4-12 | App Security  | Definir pol√≠tica CORS estrita por ambiente (origins permitidas, m√©todos, headers)                                                          | Done        | 100%      | M√©dio: manter allowlist por ambiente atualizada                                                                                                                          | traceability-debt                   | 2026-02-11         |
| S4-13 | App Security  | Implementar trilha de auditoria para a√ß√µes sens√≠veis (login, perfil, transa√ß√µes, carteira)                                                 | Done        | 100%      | M√©dio: trilha em logs estruturados; faltam reten√ß√£o/alertas centralizados                                                                                                | traceability-debt                   | 2026-02-11         |
| S4-14 | App Security  | Revisar/remover c√≥digo legado n√£o registrado (`ticker_controller`) e alinhar superf√≠cie real de API                                        | Done        | 100%      | Baixo: controller legado removido e cobertura de n√£o-exposi√ß√£o adicionada                                                                                                | 805c69e                          | 2026-02-11         |
| S4-15 | App Security  | Formalizar threat model (STRIDE + abuse cases) e crit√©rios de aceite por risco                                                             | Done        | 100%      | Baixo: baseline de risco documentada com crit√©rios de aceite e backlog vinculado                                                                                         | traceability-debt                   | 2026-02-11         |
| S4-16 | App Security  | Adicionar scan de vulnerabilidades de depend√™ncias no CI (`pip-audit`/equivalente)                                                         | Done        | 100%      | Baixo                                                                                                                                                                    | traceability-debt                   | 2026-02-11         |
| S4-17 | App Security  | Adicionar observabilidade de integra√ß√µes externas (BRAPI): contadores por timeout, payload inv√°lido e erro HTTP                            | Done        | 100%      | M√©dio: m√©tricas em mem√≥ria entregues; pr√≥ximo passo √© export para backend central (CloudWatch/Prometheus)                                                                | f2bcda1                          | 2026-02-11         |
| S5-01 | App Security  | Eliminar fallback de mem√≥ria para rate-limit em produ√ß√£o (fail-closed se Redis indispon√≠vel)                                               | Done        | 100%      | M√©dio: fail-closed implementado; falta monitoramento/alerta de indisponibilidade (S5-02/S5-10)                                                                           | traceability-debt                   | 2026-02-11         |
| S5-02 | App Security  | Implementar trilha de auditoria persistente (DB/CloudWatch) com reten√ß√£o e busca por `request_id`                                          | Done        | 100%      | M√©dio: persist√™ncia + reten√ß√£o + busca por `request_id` conclu√≠das no banco local; integra√ß√£o CloudWatch permanece evolu√ß√£o de observabilidade                           | traceability-debt                   | 2026-02-11         |
| S5-03 | App Security  | Aplicar autoriza√ß√£o por recurso no dom√≠nio GraphQL (n√£o s√≥ no transporte), com testes de ownership                                         | Done        | 100%      | Baixo: checks expl√≠citos de ownership para `investmentId` no dom√≠nio GraphQL + su√≠te de testes de acesso cruzado                                                         | traceability-debt                   | 2026-02-11         |
| S5-04 | App Security  | Endurecer CORS/headers por ambiente com valida√ß√£o de configura√ß√£o no startup                                                               | Done        | 100%      | Baixo: pol√≠tica de CORS validada no startup e headers de seguran√ßa centralizados por ambiente                                                                            | 5aa0d2c                          | 2026-02-11         |
| S5-05 | App Security  | Adotar rota√ß√£o de secrets + source of truth (AWS SSM/Secrets Manager), removendo `.env` como prim√°rio em cloud                             | Done        | 100%      | M√©dio: script e runbook implementados; depende de IAM/SSM em cada ambiente AWS                                                                                           | traceability-debt                   | 2026-02-11         |
| S5-06 | App Security  | Fechar lacunas de brute-force/account takeover (lockout progressivo, cooldown e fingerprint de IP/device)                                  | Done        | 100%      | M√©dio: pol√≠tica por usu√°rio conhecido + telemetria local conclu√≠das; falta exportador central de alertas (CloudWatch/Prometheus)                                         | traceability-debt                   | 2026-02-11         |
| S5-07 | App Security  | Revisar endpoints legados e desativar/feature-flag rotas n√£o suportadas (`ticker_controller`)                                              | Done        | 100%      | Baixo: superf√≠cie legado removida e bloqueada por teste de n√£o exposi√ß√£o                                                                                                 | 805c69e                          | 2026-02-11         |
| S5-08 | App Security  | Implementar valida√ß√£o de sa√≠da para evitar data leakage (campos sens√≠veis e debug data)                                                    | Done        | 100%      | M√©dio: sanitiza√ß√£o central reduz leak; manter revis√£o cont√≠nua em novos payloads                                                                                         | 5aa0d2c                          | 2026-02-11         |
| S5-09 | App Security  | Fortalecer prote√ß√£o de banco de testes/fixtures para evitar conex√µes abertas e vazamento de estado                                         | Done        | 100%      | Baixo: fixture isolada por ambiente e teardown forte de engine/sess√£o/banco tempor√°rio                                                                                   | c0f83e2                          | 2026-02-11         |
| S5-10 | App Security  | Integrar SAST + secret scanning + dependabot com gate no CI (quebra build em severidade alta)                                              | Done        | 100%      | M√©dio: gates ativos no CI; branch protection ainda deve exigir checks                                                                                                    | c0f83e2                          | 2026-02-11         |
| S6-01 | App Security  | Corrigir mass-assignment no `PUT /transactions/{id}` com allowlist de campos mut√°veis                                                      | Done        | 100%      | Baixo: coberto por valida√ß√£o e testes de regress√£o                                                                                                                       | traceability-debt                   | 2026-02-11         |
| S6-02 | App Security  | Tornar `user_id` dump-only no schema de transa√ß√£o e bloquear bind de ownership por payload                                                 | Done        | 100%      | Baixo: schema endurecido e teste de payload malicioso adicionado                                                                                                         | traceability-debt                   | 2026-02-11         |
| S6-03 | App Security  | Validar ownership de `tag_id/account_id/credit_card_id` no REST de transa√ß√µes (create/update)                                              | Done        | 100%      | Baixo: valida√ß√£o central reaproveitada no REST                                                                                                                           | traceability-debt                   | 2026-02-11         |
| S6-04 | App Security  | Remover vazamento de `str(exc)`/detalhes internos em controllers REST e padronizar erro seguro                                             | Done        | 100%      | Baixo: mapeador de erro p√∫blico aplicado em REST/GraphQL para exce√ß√µes de valida√ß√£o, com fallback seguro para falhas inesperadas                                         | traceability-debt                   | 2026-02-11         |
| S6-05 | App Security  | Unificar pol√≠tica de registro REST/GraphQL (mesma valida√ß√£o de senha/email e normaliza√ß√£o)                                                 | Done        | 100%      | Baixo: GraphQL passou a usar `UserRegistrationSchema`                                                                                                                    | traceability-debt                   | 2026-02-11         |
| S6-06 | App Security  | Mitigar enumera√ß√£o de contas em register/login (status e comportamento observ√°vel)                                                         | Done        | 100%      | Baixo: defaults seguros em runtime de produ√ß√£o e prote√ß√£o de timing em login REST/GraphQL                                                                                | 4ff5265                          | 2026-02-12         |
| S6-07 | App Security  | Migrar login guard para backend distribu√≠do (Redis) com pol√≠tica de falha expl√≠cita                                                        | Done        | 100%      | Baixo: policy expl√≠cita exigida em runtime seguro e compose com Redis pronto para rate-limit/login guard                                                                 | e23b2af                          | 2026-02-12         |
| S6-08 | App Security  | Endurecer defaults de runtime (`DEBUG=False` por padr√£o seguro e valida√ß√£o de startup)                                                     | Done        | 100%      | Baixo: runtime seguro bloqueia bypass de enforcement de secrets e mant√©m valida√ß√£o de startup                                                                            | 5fc1be7                          | 2026-02-12         |
| S6-09 | App Security  | Retirar sweep de reten√ß√£o de auditoria do ciclo de request (job agendado/ass√≠ncrono)                                                       | Done        | 100%      | Baixo: reten√ß√£o externalizada via CLI/job e prote√ß√£o coberta por teste de n√£o execu√ß√£o no request                                                                        | 208e1d1                          | 2026-02-12         |
| S6-10 | App Security  | Atualizar depend√™ncias com CVE (`Flask`, `marshmallow`) e zerar `pip-audit` runtime                                                        | Done        | 100%      | Baixo: gate validado com `pip-audit` sem vulnerabilidades conhecidas                                                                                                     | afc15c7                          | 2026-02-11         |
| S6-11 | App Security  | Harden Docker de produ√ß√£o (non-root, multi-stage, runtime deps only)                                                                       | Done        | 100%      | Baixo: multi-stage + non-root + contexto sem segredos reduziram superf√≠cie e removeram CVEs cr√≠ticos/altos observados                                                    | traceability-debt                   | 2026-02-11         |
| S6-12 | App Security  | Definir pol√≠tica de exposi√ß√£o de documenta√ß√£o em produ√ß√£o (`/docs`) por ambiente/autentica√ß√£o                                              | Done        | 100%      | Baixo: pol√≠tica por ambiente + fail-fast para configura√ß√£o inv√°lida em runtime seguro                                                                                    | 208e1d1                          | 2026-02-12         |
| X1    | Tech Debt     | Remover/atualizar TODO desatualizado sobre enums em transacoes                                                                             | Done        | 100%      | Baixo: clareza de manutencao                                                                                                                                             | traceability-debt                | 2026-02-20         |
| X2    | Tech Debt     | Centralizar regras de dom√≠nio em servi√ßos/casos de uso e reduzir controllers/resolvers REST/GraphQL a adapters finos (sem regra duplicada) | Done        | 100%      | Baixo: metas, transa√ß√µes, wallet entries/queries e investment operations convergidos em camada de aplica√ß√£o, com adapters REST/GraphQL finos e mapeamento de erro/presenters por dom√≠nio | 6192830, 5e4995f                | 2026-02-20         |


## Registro de progresso recente


| Data       | Item                    | Atualizacao                                                                                                                                                                                                                                                                                 | Commit           |
| ---------- | ----------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------- |
| 2026-02-20 | C6                      | Endpoint unificado de vencimentos entregue com paridade REST+GraphQL (`/transactions/due-range` e `transactionDueRange`), ordena√ß√µes `overdue_first/upcoming_first/date/title/card`, filtros `initialDate/finalDate`, contadores agregados e cobertura de contrato/erro/OpenAPI/Schemathesis. | 4f67bc7 |
| 2026-02-20 | H1/H1-HARDENING         | Observabilidade GraphQL fortalecida com m√©tricas `graphql.*` por dom√≠nio/campo/custo (`query_bytes`, `depth`, `complexity`, viola√ß√µes de seguran√ßa/autoriza√ß√£o) no controller, com cobertura dedicada em `tests/test_graphql_observability.py`.                                      | traceability-debt |
| 2026-02-20 | G1/G2                   | Suite por dom√≠nio expandida com cen√°rios de integra√ß√£o BRAPI em camada de API (REST + GraphQL) simulando timeout real do provider e validando fallback seguro de valuation em `tests/test_brapi_integration_contract.py`.                                                            | traceability-debt |
| 2026-02-20 | G3/G4                   | Gates de qualidade confirmados em execu√ß√£o local CI-like (`scripts/run_ci_like_actions_local.sh --local --fast`) com cobertura >=85% (baseline ~90%), lint/type/security e evid√™ncias de seguran√ßa consistentes com o pipeline atual.                                               | traceability-debt |
| 2026-02-20 | G16                     | Pol√≠tica de warnings consolidada: warnings de c√≥digo pr√≥prio tratados como erro e ru√≠do conhecido de bibliotecas terceiras mantido sob filtro expl√≠cito e rastre√°vel em `pytest.ini`.                                                                                                | traceability-debt |
| 2026-02-20 | S3                      | Checklist OWASP/ASVS atualizado para estado atual e script de evid√™ncias alinhado ao gate real de Snyk opt-in (`ENABLE_SNYK`) em `scripts/security_evidence_check.sh`.                                                                                                               | traceability-debt |
| 2026-02-20 | A2                      | OpenAPI alinhada ao runtime: registro autom√°tico dos endpoints reais por blueprint + inclus√£o de health em docs + teste `tests/test_openapi_route_parity.py` para garantir cobertura de rotas/m√©todos no Swagger.                                                                       | traceability-debt |
| 2026-02-20 | A3                      | Padroniza√ß√£o de nomenclatura conclu√≠da em documenta√ß√£o (wallet/investment/ticker) com guia dedicado (`docs/NOMENCLATURE.md`) e limpeza de branding legado nos metadados da API/documentos de apoio.                                                                                    | traceability-debt |
| 2026-02-20 | A4                      | Estrat√©gia de valida√ß√£o unificada formalizada por ADR (`docs/adr/0001-validation-strategy.md`): manter Marshmallow/Webargs no runtime e bloquear introdu√ß√£o de novo validador sem revis√£o arquitetural expl√≠cita.                                                                        | traceability-debt |
| 2026-02-20 | X1                      | Limpeza do d√©bito X1 conclu√≠da: refer√™ncias documentais ao TODO desatualizado de enums em transa√ß√µes foram removidas/atualizadas para refletir o estado real do c√≥digo.                                                                                                                  | traceability-debt |
| 2026-02-20 | X2 Planning             | D√©bito t√©cnico registrado: centralizar dom√≠nio e manter REST/GraphQL como adapters finos. Classifica√ß√£o aplicada: `Complexidade=Alta`, `Urg√™ncia=Media/Alta`. Execu√ß√£o decidida para o pr√≥ximo bloco t√©cnico (C4) antes de ampliar novos blocos de feature.                                 | n/a            |
| 2026-02-20 | X2/C4 (fase metas)      | Refatora√ß√£o de metas conclu√≠da com `GoalApplicationService` como camada de aplica√ß√£o compartilhada entre REST e GraphQL, removendo orquestra√ß√£o duplicada de regras/planejamento dos adapters, centralizando mapeamento de erro e presenters, e cobrindo o fluxo com testes dedicados.        | traceability-debt |
| 2026-02-20 | X2/C4 (fase transa√ß√µes) | Refatora√ß√£o de transa√ß√µes conclu√≠da com `TransactionApplicationService` compartilhado em REST/GraphQL para create/update/delete e resumo/dashboard mensal, removendo duplica√ß√£o de orquestra√ß√£o dos adapters, preservando contratos v1/v2 e validando regress√£o com su√≠te REST+GraphQL.         | traceability-debt |
| 2026-02-20 | X2/C4 (investment ops)  | Opera√ß√µes de investimento migradas para `InvestmentApplicationService` compartilhado em REST/GraphQL (create/list/update/delete/summary/position/invested-amount), com mapeamento de erro centralizado, adapters mais finos e compatibilidade legada mantida para testes/imports hist√≥ricos.     | traceability-debt |
| 2026-02-20 | X2/C4 (wallet entries)  | Wallet entries/list/history/update/delete migrados para `WalletApplicationService` compartilhado entre REST e GraphQL; adapters ficaram finos e contratos legados/v2 foram preservados com valida√ß√£o por su√≠te dedicada.                                                                 | 6192830 |
| 2026-02-20 | X2/C4 (presenters/error)| Consolida√ß√£o de mapeamento de erro/apresenta√ß√£o por dom√≠nio (`wallet`/`investment`) em REST+GraphQL, removendo duplica√ß√£o transversal e centralizando convers√£o para c√≥digos p√∫blicos.                                                                                                       | 5e4995f |
| 2026-02-20 | DB Hardening            | Baseline de migrations Alembic versionado em `migrations/` + bootstrap endurecido (`AUTO_CREATE_DB` default false e fail-fast quando `migrations/` n√£o existe em startup PROD, salvo override expl√≠cito controlado).                                                                   | traceability-debt |
| 2026-02-09 | C2                      | Job de recorrencia + servico idempotente para gerar ocorrencias                                                                                                                                                                                                                             | f3ef3c0          |
| 2026-02-09 | C5                      | Endpoint `GET /transactions/expenses` com filtros de periodo, paginacao, ordenacao e metricas                                                                                                                                                                                               | f3ef3c0          |
| 2026-02-09 | C4                      | Endpoint `GET /transactions/dashboard` com totais, contagens e top categorias no contrato legado/v2                                                                                                                                                                                         | traceability-debt   |
| 2026-02-09 | C4/G1                   | Refatoracao com `TransactionAnalyticsService` + suite validada sem regressao                                                                                                                                                                                                                | traceability-debt   |
| 2026-02-09 | G4                      | Correcao de lint local (`flake8`/`pyflakes`) com pin de compatibilidade no ambiente dev                                                                                                                                                                                                     | traceability-debt   |
| 2026-02-09 | G4                      | Pipeline CI com gate de qualidade/Sonar e validacoes locais                                                                                                                                                                                                                                 | 7f0ac66          |
| 2026-02-09 | H1 (fase 1)             | Base GraphQL criada com endpoint `/graphql` + queries/mutations iniciais por controller                                                                                                                                                                                                     | traceability-debt   |
| 2026-02-09 | H1/G1                   | Refatoracao interna do schema GraphQL para reduzir duplicacao/complexidade sem alterar regras de negocio                                                                                                                                                                                    | traceability-debt   |
| 2026-02-09 | D1                      | Modelo e endpoints REST iniciais para operacoes de investimento (`/wallet/{investment_id}/operations`) + testes                                                                                                                                                                             | traceability-debt   |
| 2026-02-09 | D1/H1                   | Operacoes de investimento com dom√≠nio compartilhado REST + GraphQL (create/list/update/delete/summary)                                                                                                                                                                                      | traceability-debt   |
| 2026-02-09 | D2/H1                   | Posicao e custo medio por investimento no dominio compartilhado + REST (`/operations/position`) + GraphQL (`investmentPosition`)                                                                                                                                                            | traceability-debt   |
| 2026-02-09 | D3/H1                   | Valor investido por data com dom√≠nio compartilhado + REST (`/operations/invested-amount`) + GraphQL (`investmentInvestedAmount`)                                                                                                                                                            | traceability-debt   |
| 2026-02-09 | D4/H1                   | Valuation atual por ativo e consolidado com dom√≠nio compartilhado + REST (`/valuation`) + GraphQL (`investmentValuation`, `portfolioValuation`)                                                                                                                                             | traceability-debt   |
| 2026-02-09 | D5/H1                   | P/L absoluto/percentual por ativo e consolidado no dom√≠nio de valuation compartilhado REST + GraphQL                                                                                                                                                                                        | traceability-debt   |
| 2026-02-09 | D6/G2                   | Resili√™ncia BRAPI com timeout/retry/cache curto + testes unit√°rios de cache/retry/timeout                                                                                                                                                                                                   | traceability-debt   |
| 2026-02-09 | D7/H1                   | Hist√≥rico da carteira por per√≠odo (REST + GraphQL) com s√©rie di√°ria de investido l√≠quido acumulado                                                                                                                                                                                          | traceability-debt   |
| 2026-02-09 | D7/H1                   | Hist√≥rico evolu√≠do com valor estimado e P/L por dia (REST + GraphQL)                                                                                                                                                                                                                        | traceability-debt   |
| 2026-02-09 | D8/H1                   | Suporte a classes de ativos (stock/fii/etf/bdr/crypto/cdb/cdi/lci/lca/tesouro/fund/custom) + proje√ß√£o de renda fixa                                                                                                                                                                         | traceability-debt   |
| 2026-02-09 | I1                      | Backlog e an√°lise de deploy AWS/Azure com custos, plano A/B e decis√£o inicial                                                                                                                                                                                                               | traceability-debt   |
| 2026-02-09 | I2                      | Perfis DEV/PROD no Docker com compose separado, Dockerfile de produ√ß√£o, entrypoint com migra√ß√£o e proxy Nginx                                                                                                                                                                               | traceability-debt   |
| 2026-02-10 | I3/I11-I13/I16          | DNS e AWS em andamento + base Nginx/TLS implementada no repo (ACME challenge, compose com 443/certbot, runbook TLS)                                                                                                                                                                         | traceability-debt   |
| 2026-02-10 | R1/R2                   | Rebranding conclu√≠do no reposit√≥rio versionado: nomenclatura migrada para `auraxis` e pend√™ncias externas mapeadas                                                                                                                                                                          | traceability-debt   |
| 2026-02-10 | S3                      | Baseline OWASP iniciado com diagn√≥stico API Top 10/ASVS e backlog de seguran√ßa para execu√ß√£o S3 -> S2 -> S1                                                                                                                                                                                 | traceability-debt   |
| 2026-02-10 | S3.1                    | Invent√°rio de superf√≠cie de ataque REST/GraphQL conclu√≠do com matriz OWASP e handoff para S2/S1 (`docs/OWASP_S3_INVENTORY.md`)                                                                                                                                                              | traceability-debt   |
| 2026-02-10 | S3.2                    | Checklist OWASP/ASVS iniciado com status por controle, evid√™ncias e a√ß√µes (`docs/OWASP_S3_CHECKLIST.md`)                                                                                                                                                                                    | traceability-debt   |
| 2026-02-10 | S3.3                    | Script de evid√™ncias OWASP (`scripts/security_evidence_check.sh`) integrado ao CI com artifact (`security-evidence`)                                                                                                                                                                        | traceability-debt   |
| 2026-02-11 | S3.4                    | Plano priorizado de remedia√ß√£o OWASP (P0/P1/P2) mapeado para S2/S1 (`docs/OWASP_S3_REMEDIATION_PLAN.md`)                                                                                                                                                                                    | traceability-debt   |
| 2026-02-11 | S2.1/H2                 | Baseline de rate-limit para REST+GraphQL implementado (`app/middleware/rate_limit.py`) com testes dedicados (`tests/test_rate_limit.py`) e atualiza√ß√£o do checklist OWASP                                                                                                                   | traceability-debt   |
| 2026-02-11 | S2.2/H1-HARDENING       | Limites de transporte GraphQL implementados (tamanho/profundidade/complexidade/opera√ß√µes) com pol√≠tica configur√°vel (`app/graphql/security.py`) e testes (`tests/test_graphql_security.py`)                                                                                                 | traceability-debt   |
| 2026-02-11 | S3.5/H3                 | Revis√£o de fragilidades de seguran√ßa na aplica√ß√£o e mapeamento em backlog de remedia√ß√£o (`S4-01..S4-16`)                                                                                                                                                                                    | traceability-debt   |
| 2026-02-11 | S2.3/S4                 | Hardening aplicado: limite global de payload, CORS por ambiente, introspec√ß√£o GraphQL configur√°vel, sanitiza√ß√£o central, pagina√ß√£o endurecida, segredos fortes obrigat√≥rios e scan `pip-audit` no CI + testes de seguran√ßa                                                                  | traceability-debt   |
| 2026-02-11 | S2.4/S4-07              | GraphQL com pol√≠tica deny-by-default no transporte: opera√ß√µes privadas exigem auth, allowlist p√∫blica por ambiente (`registerUser/login`) + testes de contrato                                                                                                                              | traceability-debt   |
| 2026-02-11 | S2.5/S4-10              | Rate-limit com backend distribu√≠do opcional (Redis) + fallback autom√°tico para mem√≥ria + testes de backend e documenta√ß√£o de env                                                                                                                                                            | traceability-debt   |
| 2026-02-11 | S2.6/S4-09              | Hardening BRAPI: sanitiza√ß√£o/allowlist de ticker e valida√ß√£o estrita de payload de cota√ß√£o/hist√≥rico com fallback seguro + testes                                                                                                                                                           | traceability-debt   |
| 2026-02-11 | S4-13                   | Trilha de auditoria adicionada para rotas sens√≠veis (`/auth`, `/user`, `/transactions`, `/wallet`, `/graphql`) com payload estruturado de request e testes                                                                                                                                  | traceability-debt   |
| 2026-02-11 | S5-01                   | Rate limit em modo fail-closed para backend Redis indispon√≠vel (retorno 503), com configura√ß√£o por ambiente e testes de backend/guard                                                                                                                                                       | traceability-debt   |
| 2026-02-11 | S5-02 (fase 1)          | Persist√™ncia opcional de auditoria em tabela `audit_events` com flag de ambiente (`AUDIT_PERSISTENCE_ENABLED`) + teste de integra√ß√£o                                                                                                                                                        | traceability-debt   |
| 2026-02-11 | S5-02 (fase 1.1)        | Trilha de auditoria endurecida para Sonar: remo√ß√£o de payload controlado por usu√°rio dos logs e manuten√ß√£o apenas de metadados seguros + ajuste de teste                                                                                                                                    | traceability-debt   |
| 2026-02-11 | S5-03 (fase 1)          | Autoriza√ß√£o por recurso em GraphQL `createTransaction`: valida ownership de `tagId/accountId/creditCardId` com testes negativos de refer√™ncia cruzada entre usu√°rios                                                                                                                        | traceability-debt   |
| 2026-02-11 | S5-06 (fase 1)          | Guard de login progressivo (REST + GraphQL): cooldown exponencial por fingerprint `principal+IP+user-agent`, bloqueio `429/GraphQLError` e testes dedicados                                                                                                                                 | traceability-debt   |
| 2026-02-11 | S4-02                   | Migra√ß√£o de scripts operacionais (`init_db`, `generate_recurring_transactions`) para logging estruturado sem `print`                                                                                                                                                                        | f2bcda1          |
| 2026-02-11 | S4-17                   | Observabilidade BRAPI adicionada com contadores (`timeout`, `http_error`, `invalid_payload`) + testes dedicados                                                                                                                                                                             | f2bcda1          |
| 2026-02-11 | S5-04                   | Endurecimento de CORS/headers por ambiente: valida√ß√£o de startup para origins inv√°lidas em produ√ß√£o e middleware de security headers com pol√≠ticas por env + testes                                                                                                                         | 5aa0d2c          |
| 2026-02-11 | S5-08                   | Sanitiza√ß√£o central de respostas REST/GraphQL para reduzir data leakage (`INTERNAL_ERROR`, campos sens√≠veis) + testes de regress√£o                                                                                                                                                          | 5aa0d2c          |
| 2026-02-11 | S5-09                   | Hardening da su√≠te de testes: isolamento de env vars por teste + teardown forte de SQLite/engine para evitar conex√µes abertas e vazamento de estado                                                                                                                                         | c0f83e2          |
| 2026-02-11 | S5-10                   | CI de seguran√ßa refor√ßado: Bandit (SAST), Gitleaks (secret scan), Dependency Review gate (high+) e configura√ß√£o Dependabot                                                                                                                                                                  | c0f83e2          |
| 2026-02-11 | S4-14/S5-07             | Remo√ß√£o do `ticker_controller` legado n√£o registrado, atualiza√ß√£o de documenta√ß√£o de superf√≠cie e teste para garantir que rotas antigas n√£o sejam expostas                                                                                                                                  | 805c69e          |
| 2026-02-11 | S4-15                   | Threat model STRIDE + abuse cases + crit√©rios de aceite por risco documentados (`docs/THREAT_MODEL_STRIDE.md`)                                                                                                                                                                              | traceability-debt   |
| 2026-02-11 | S5-05                   | Source of truth de segredos em cloud com script de sync (`scripts/sync_cloud_secrets.py`) + runbook operacional (`docs/CLOUD_SECRETS_RUNBOOK.md`)                                                                                                                                           | traceability-debt   |
| 2026-02-11 | S4-10                   | Rate-limit distribu√≠do finalizado com observabilidade (`rate_limit.*`), logs de backend Redis/fail-closed, runbook operacional (`docs/RATE_LIMIT_REDIS_RUNBOOK.md`) e alinhamento do helper legado de revoga√ß√£o JWT ao `current_jti` persistido                                             | traceability-debt   |
| 2026-02-11 | S5-02                   | Auditoria persistente evolu√≠da com reten√ß√£o configur√°vel (`AUDIT_RETENTION_*`), √≠ndices de consulta, servi√ßo de busca por `request_id`, utilit√°rio operacional (`scripts/manage_audit_events.py`) e runbook (`docs/AUDIT_TRAIL_RUNBOOK.md`)                                                 | traceability-debt   |
| 2026-02-11 | S5-03                   | Autoriza√ß√£o por recurso refor√ßada no dom√≠nio GraphQL para fluxos por `investmentId` (queries/mutations) com valida√ß√£o expl√≠cita de ownership + testes de acesso cruzado                                                                                                                     | traceability-debt   |
| 2026-02-11 | S5-06                   | Login guard evolu√≠do com pol√≠tica espec√≠fica para principal conhecido (`LOGIN_GUARD_KNOWN_*`) + m√©tricas de telemetria (`login_guard.*`) e testes de regress√£o REST/GraphQL                                                                                                                 | traceability-debt   |
| 2026-02-11 | S6                      | Reavalia√ß√£o de seguran√ßa round 2 conclu√≠da com evid√™ncias locais atualizadas (`bandit`, `security_evidence_check`, `pip-audit`) e novo backlog de remedia√ß√£o (`S6-01..S6-12`)                                                                                                               | n/a              |
| 2026-02-11 | S6-01/S6-02/S6-03/S6-04 | Harden transa√ß√µes REST: bloqueio de mass-assignment, `user_id` dump-only, valida√ß√£o de ownership de refer√™ncias e remo√ß√£o de detalhes internos de exce√ß√£o em respostas 500                                                                                                                  | traceability-debt   |
| 2026-02-11 | S6-05                   | Registro GraphQL alinhado ao schema de valida√ß√£o REST (`UserRegistrationSchema`) com normaliza√ß√£o e pol√≠tica de senha forte                                                                                                                                                                 | traceability-debt   |
| 2026-02-11 | G6/G7/G8/G9/G10         | CI/pre-commit refor√ßados com Gitleaks+Bandit+private-key detection, job Schemathesis, gate Cosmic Ray, Trivy e Snyk condicional                                                                                                                                                             | traceability-debt   |
| 2026-02-11 | G8                      | Mutation gate migrado para Cosmic Ray com escopo cr√≠tico em CORS (`app/middleware/cors.py`), filtro de operadores ruidosos e threshold de sobreviv√™ncia 0%                                                                                                                                  | traceability-debt   |
| 2026-02-11 | S6-10                   | Depend√™ncias com CVE atualizadas (`Flask 3.1.1`, `marshmallow 3.26.2`, `Werkzeug 3.1.5`) e valida√ß√£o `pip-audit` limpa                                                                                                                                                                      | afc15c7          |
| 2026-02-11 | G12                     | Corre√ß√µes de tipagem para CI (`mypy`) + alinhamento do hook local para usar ambiente real (`language: system`) + script de paridade local `scripts/run_ci_quality_local.sh`                                                                                                                 | traceability-debt   |
| 2026-02-11 | G15                     | Cursor Bugbot registrado em documenta√ß√£o de CI/CD como camada complementar de revis√£o de PR; estrat√©gia de execu√ß√£o local e limita√ß√µes formalizadas                                                                                                                                         | traceability-debt   |
| 2026-02-11 | G8/G9                   | Hardening de CI: mutation test sem path hardcoded de `.venv` (compat√≠vel com runner GitHub) e actions Snyk fixadas por SHA imut√°vel para reduzir risco de supply-chain                                                                                                                      | traceability-debt   |
| 2026-02-11 | G10/S6-11               | Hardening de container para Trivy: Dockerfile.prod multi-stage, runtime n√£o-root, atualiza√ß√£o de pacotes no est√°gio final e exclus√£o de `.env/.pem/.key` no `.dockerignore`; scan local Trivy (HIGH/CRITICAL) limpo                                                                         | traceability-debt   |
| 2026-02-11 | H1/Cleanup              | Refatora√ß√£o estrutural de transa√ß√µes e GraphQL: `transaction_controller` quebrado em recursos modulares, OpenAPI extra√≠do, `schema.py` segmentado em `types/query/mutations`; cobertura global mantida em 88% com su√≠te e hooks verdes                                                      | cbcf368          |
| 2026-02-11 | S6-04/H1-Cleanup        | Sanitiza√ß√£o de erro aplicada aos controllers REST (`user/wallet/transaction reports`) com camada de aplica√ß√£o (`DTO + interface + mapper`) para valida√ß√£o p√∫blica e fallback seguro sem leak; cobertura validada em 88%                                                                     | traceability-debt   |
| 2026-02-12 | A5/H1-Cleanup           | `graphql_controller_utils` movido para `app/controllers/graphql/utils.py` com facade legada mantida para imports antigos e alinhamento do padr√£o por dom√≠nio                                                                                                                                | traceability-debt   |
| 2026-02-12 | A1                      | Contrato v1/v2 unificado em helper compartilhado (`app/controllers/response_contract.py`) com classe de erro extens√≠vel (`ResponseContractError`) e ado√ß√£o inicial em auth/user/wallet/transaction                                                                                          | traceability-debt   |
| 2026-02-12 | A6/S6-07 Prep           | Login guard refatorado para arquitetura modular (`login_attempt_guard_context/settings/backend/service`) com depend√™ncias expl√≠citas, mantendo API p√∫blica e cobertura >= 85%                                                                                                               | traceability-debt   |
| 2026-02-12 | G1/G16                  | Su√≠te estabilizada sem `ResourceWarning` de SQLite e sem `InsecureKeyLengthWarning` em JWT de testes (fixtures e apps de teste endurecidos); backlog de depreca√ß√µes Marshmallow/apispec formalizado                                                                                         | traceability-debt   |
| 2026-02-12 | G16 (fase 1)            | `auth_schema` migrado para `metadata=` (Marshmallow 4-ready) e `wallet_schema` atualizado para `load_default`; su√≠te e cobertura >= 85% mantidas                                                                                                                                            | traceability-debt   |
| 2026-02-12 | G16 (fase 2)            | Schemas auxiliares (`account`, `tag`, `credit_card`, `error`, `user_ticker`) migrados para `metadata=` em prepara√ß√£o ao Marshmallow v4; cobertura mantida em 88%                                                                                                                            | traceability-debt   |
| 2026-02-12 | G16 (fase 3)            | `transaction_schema` e `user_schemas` migrados para `metadata=` e remo√ß√£o de `Meta.ordered` legado; `mypy` e su√≠te completa verdes com cobertura global em 88.17%                                                                                                                           | traceability-debt   |
| 2026-02-12 | G16 (fase 4)            | Endpoints de wallet atualizados de `missing=` para `load_default` no parsing de query (`page/per_page`) para compatibilidade Marshmallow v4; cobertura global mantida em 88.17%                                                                                                             | traceability-debt   |
| 2026-02-12 | G16 (fase 5)            | `APISpec` passou a usar `schema_name_resolver` determin√≠stico com sufixo por modificadores de schema (`only/exclude/...`), removendo colis√µes de componentes OpenAPI e reduzindo warnings da su√≠te de 160 para 11                                                                           | traceability-debt   |
| 2026-02-12 | G16 (fase 6)            | `pytest.ini` atualizado para filtrar apenas depreca√ß√µes conhecidas de bibliotecas terceiras (`flask-apispec`/`schemathesis`) e manter `DeprecationWarning` do namespace `app.*` em modo `error`; execu√ß√£o completa da su√≠te ficou limpa (0 warnings exibidos) com cobertura em 88.24%       | traceability-debt   |
| 2026-02-12 | A1 (fechamento)         | Helper de contrato extra√≠do para utilit√°rio neutro (`app/utils/api_contract.py`) e aplicado em `response_contract`, `jwt_callbacks`, `rate_limit` e `token_required`; fluxo JWT legado agora responde contrato v2 quando solicitado (sem quebrar v1)                                        | traceability-debt   |
| 2026-02-12 | G13                     | CI ganhou job dedicado `mypy-matrix` em Python 3.11 e 3.13, reduzindo risco de regress√£o de tipagem entre vers√µes sem alterar os gates existentes de lint/test/security                                                                                                                     | traceability-debt   |
| 2026-02-12 | G14                     | Tooling CI deterministic: `pip-audit` adicionado com vers√£o fixa em `requirements-dev.txt`, remo√ß√£o de `pip install` avulso no workflow e stubs (`types-*`) fixados em `requirements.txt`                                                                                                   | traceability-debt   |
| 2026-02-12 | S6-06                   | Mitiga√ß√£o de enumera√ß√£o em autentica√ß√£o: pol√≠tica padr√£o em produ√ß√£o agora oculta conflito de registro e desabilita sinal de principal conhecido no login guard; REST/GraphQL passaram a usar verifica√ß√£o de senha com prote√ß√£o de timing para usu√°rios inexistentes                        | 4ff5265          |
| 2026-02-12 | S6-07                   | Login guard Redis endurecido com pol√≠tica de falha expl√≠cita em runtime seguro (`LOGIN_GUARD_FAIL_CLOSED` obrigat√≥rio) e compose atualizado com servi√ßo Redis + URLs padr√£o para login guard/rate limit (dev/prod/local)                                                                    | e23b2af          |
| 2026-02-12 | S6-08                   | Startup hardening refor√ßado: `SECURITY_ENFORCE_STRONG_SECRETS=false` agora √© rejeitado em runtime seguro (`FLASK_DEBUG=false` e `FLASK_TESTING=false`), com testes de regress√£o para cen√°rios seguro/debug                                                                                  | 5fc1be7          |
| 2026-02-12 | S6-09                   | Sweep de reten√ß√£o confirmado fora do ciclo de request: reten√ß√£o executada por comando operacional (`flask audit-events purge-expired`) com teste de regress√£o que garante n√£o execu√ß√£o durante requests (`tests/test_audit_trail.py`)                                                       | 208e1d1          |
| 2026-02-13 | I15                     | TLS: script de renova√ß√£o (`renew_tls_cert.sh`) + systemd timer instalado em PROD via SSM e valida√ß√£o `--dry-run` executada                                                                                                                                                                  | 575dcea, 3137cd9 |
| 2026-02-13 | I8                      | Firewall host: UFW habilitado em DEV/PROD via SSM (deny incoming + allow 80/443 + loopback), com verifica√ß√£o de status                                                                                                                                                                      | 5825206, 2b2459c |
| 2026-02-13 | I8                      | IAM audit: inst√¢ncias DEV/PROD usando role `auraxis-ec2-ssm-role` com pol√≠ticas gerenciadas m√≠nimas (SSM + CloudWatchAgent) e inline policy para backups S3                                                                                                                                 | c76957f          |
| 2026-02-13 | I16                     | Checklist automatizado (DNS/HTTP/SSM/Route53/Logs/S3) implementado e validado em DEV/PROD (`scripts/aws_validate_i16.py`)                                                                                                                                                                   | 2af0a95          |
| 2026-02-14 | I5                      | Guardrails de custo aplicados (AWS Budgets + Cost Anomaly Detection) com limite conservador em USD e docs de custo/Plano B                                                                                                                                                                  | 877c0cc          |
| 2026-02-14 | I9                      | Runbook operacional consolidado (deploy/rollback, TLS, backups/restore, observabilidade, firewall, custo)                                                                                                                                                                                   | 877c0cc          |
| 2026-02-14 | I6                      | Deploy autom√°tico via GitHub Actions (OIDC assume role + SSM) para DEV/PROD, com PROD manual                                                                                                                                                                                                | 14adf1b          |
| 2026-02-12 | S6-12                   | Pol√≠tica `/docs` endurecida com valida√ß√£o de startup: `DOCS_EXPOSURE_POLICY` inv√°lido agora causa erro em runtime seguro; em debug mant√©m fallback seguro para produtividade local, com testes dedicados                                                                                    | 208e1d1          |
| 2026-02-12 | S1 (fase 1)             | Script operacional `scripts/aws_s1_hardening.py` criado com `audit/apply` (dry-run por padr√£o) para checagem de IMDSv2, SG exposure, EBS encryption, IAM profile, SSM e termination protection; aplicado hardening de termination protection em `auraxis_prod` e `auraxis_dev` via CLI      | traceability-debt   |
| 2026-02-12 | S1 (fase 2)             | SSM online confirmado via auditoria e script de migra√ß√£o de root volume para EBS criptografado adicionado (`scripts/aws_encrypt_root_volume.py`) com dry-run e `--execute` (downtime).                                                                                                      | traceability-debt   |
| 2026-02-12 | S1 (fase 3)             | Migra√ß√£o DEV executada: root volume substitu√≠do por EBS criptografado; `aws_s1_hardening.py audit` agora valida `encrypted=true` (PROD pendente).                                                                                                                                           | traceability-debt   |
| 2026-02-12 | S1 (fase 4)             | Migra√ß√£o PROD executada: root volume substitu√≠do por EBS criptografado; `aws_s1_hardening.py audit` valida `encrypted=true`. Observa√ß√£o: volume antigo e snapshots mantidos para rollback/cleanup posterior.                                                                                | traceability-debt   |
| 2026-02-12 | S1-02                   | Cleanup p√≥s-migra√ß√£o executado: volumes n√£o criptografados antigos e snapshots intermedi√°rios removidos (DEV+PROD).                                                                                                                                                                         | traceability-debt   |
| 2026-02-12 | S1 (fase 5)             | Corre√ß√£o de disponibilidade p√≥s-downtime: PROD recebeu Elastic IP e `api.auraxis.com.br` foi atualizado no Route 53 para evitar mudan√ßa de IP ap√≥s stop/start; valida√ß√£o via `dig` e `curl` (HTTPS 200).                                                                                    | traceability-debt   |
| 2026-02-12 | S1 (fase 6)             | SSH ingress removido dos Security Groups usados por DEV/PROD; acesso administrativo passa a depender de SSM Session Manager (requer `session-manager-plugin` local). Auditor S1 agora sinaliza `SSH ingress present` quando existir regra de porta 22.                                      | traceability-debt   |
| 2026-02-12 | S1 (fase 7)             | Patching baseline configurado via SSM Maintenance Window: `auraxis-dev-patching` (cron 05:00 UTC) e `auraxis-prod-patching` (cron 06:00 UTC) com task `AWS-RunPatchBaseline` e role `auraxis-ssm-maintenance-window-role`. Inst√¢ncias taggeadas com `App=auraxis` e `Environment=dev/prod`. | traceability-debt   |
| 2026-02-12 | S1 (fase 8)             | Security Groups segregados por ambiente: criados `auraxis-prod-web` e `auraxis-dev-web` (somente 80/443), anexados √†s inst√¢ncias e SGs antigos removidos.                                                                                                                                   | traceability-debt   |
| 2026-02-12 | S1 (fase 9)             | Egress hardening nos SGs de DEV/PROD: removido `-1 0.0.0.0/0` e permitido somente `tcp/443`, `tcp/80`, DNS (`tcp/udp 53` para `172.31.0.2/32`) e NTP (`udp/123` para `169.254.169.123/32`). Auditor S1 passou a reportar egress scope/broad egress.                                         | traceability-debt   |
| 2026-02-12 | S1 (fase 10)            | DNS DEV corrigido: `dev.api.auraxis.com.br` atualizado para o IP p√∫blico atual da inst√¢ncia DEV, validado com `dig` e `curl` (HTTPS 200).                                                                                                                                                   | traceability-debt   |
| 2026-02-13 | S1 (fase 11)            | DEV com IP est√°vel: Elastic IP associado √† inst√¢ncia DEV e `dev.api.auraxis.com.br` atualizado no Route 53; valida√ß√£o via `dig` e `curl` (HTTPS 200).                                                                                                                                       | traceability-debt   |
| 2026-02-13 | S1 (fase 12)            | Observabilidade m√≠nima (sem SNS): alarmes CloudWatch criados para DEV/PROD (`CPUHigh` e `StatusCheckFailed`). Pr√≥ximo passo √© adicionar SNS/Email/ChatOps e dashboards.                                                                                                                     | traceability-debt   |
| 2026-02-13 | S1 (fase 13)            | NACL hardening no subnet compartilhado (`subnet-006b15b6fb193f5e7`): NACL dedicado `auraxis-web-nacl` criado e associado, permitindo apenas 80/443 e portas ef√™meras (tcp/udp 1024-65535) + egress DNS/NTP; valida√ß√£o via `curl` (PROD/DEV 200) e SSM RunCommand (Success).                 | traceability-debt   |
| 2026-02-13 | S1 (fase 14)            | Firewall no host (UFW) habilitado via SSM em DEV/PROD: default deny incoming, allow outgoing, allow `80/tcp` e `443/tcp` e loopback. Validado via `curl` (PROD/DEV 200) e `ufw status` (active).                                                                                            | traceability-debt   |
| 2026-02-13 | S1 (fase 15)            | Patching calibrado: execu√ß√£o on-demand do `AWS-RunPatchBaseline` em DEV validada (Success). Pol√≠tica alvo: DEV `RebootIfNeeded`, PROD `NoReboot` (configurada via maintenance windows).                                                                                                     | traceability-debt   |
| 2026-02-13 | S1 (fase 16)            | Observabilidade m√≠nima: CloudWatch Dashboard `Auraxis-EC2` criado com CPU e StatusCheckFailed para DEV/PROD.                                                                                                                                                                                | traceability-debt   |
| 2026-02-13 | S1 (fase 17)            | Notifica√ß√µes habilitadas: t√≥pico SNS `auraxis-alerts` criado com assinatura email e alarmes CloudWatch atualizados para enviar `ALARM/OK/INSUFFICIENT_DATA` para o SNS. Teste: `set-alarm-state` disparado manualmente em um alarme de DEV.                                                 | traceability-debt   |
| 2026-02-13 | S1-03                   | Backups Postgres em S3: bucket com policy HTTPS+SSE, versioning, lifecycle, IAM no role da EC2; backup manual DEV/PROD validado + restore drill DEV validado; agendamento di√°rio via SSM Maintenance Windows.                                                                               | traceability-debt   |
| 2026-02-13 | I7                      | Observabilidade m√≠nima: CloudWatch Agent aplicado via SSM para m√©tricas de mem√≥ria/disco (`Auraxis/EC2`), alarmes `MemUsedHigh/DiskUsedHigh` (DEV+PROD) com SNS/email e dashboard `Auraxis-EC2` atualizado.                                                                                 | traceability-debt   |
| 2026-02-13 | I7                      | Logs centralizados (prepara√ß√£o): overlay `docker-compose.aws.logging.yml` (awslogs) e script idempotente `scripts/aws_cloudwatch_logs_i7.py` para IAM + log groups + retention. Pend√™ncia: aplicar overlay nas EC2 e validar streams recebendo eventos.                                     | traceability-debt   |
| 2026-02-13 | I7                      | Healthcheck: endpoint p√∫blico `GET /healthz` (liveness) e healthcheck do `docker-compose.prod.yml` migrado de `/docs/swagger/` para `/healthz` para reduzir acoplamento a docs.                                                                                                             | traceability-debt   |
| 2026-02-13 | I7                      | Canary barato: Route53 health checks (DEV+PROD) em `https://<domain>/healthz` + alarmes CloudWatch `auraxis-health-dev/prod` para SNS `auraxis-alerts`.                                                                                                                                     | traceability-debt   |
| 2026-02-13 | I7                      | Mitiga√ß√£o tempor√°ria: `auraxis-health-dev/prod` ficaram em estado `ALARM` (endpoint ainda n√£o deployado em master). Actions foram desabilitadas via `cloudwatch disable-alarm-actions` at√© concluir deploy de `/healthz`.                                                                   | traceability-debt   |
| 2026-02-13 | CI/Security             | Corre√ß√£o do check `security_evidence_check.sh`: padr√µes atualizados para refletir paths reais ap√≥s modulariza√ß√£o (`graphql/utils.py`, `auth/resources.py`).                                                                                                                                 | 465cba6          |
| 2026-02-13 | Security                | GraphQL: sanitiza√ß√£o de `extensions` em erros de execu√ß√£o para evitar leak de detalhes de infraestrutura; Transa√ß√µes: deduplica√ß√£o de `_guard_revoked_token` em `transaction.utils`.                                                                                                        | traceability-debt   |
| 2026-02-13 | DX/CI                   | Paridade local: script `scripts/run_ci_like_actions_local.sh` (pipeline CI-like) + hooks `pre-push` no pre-commit para `pip-audit` e `security_evidence_check.sh` (evita surpresas s√≥ no Actions).                                                                                          | traceability-debt   |
| 2026-02-13 | I7                      | Rollout em EC2 via SSM: `awslogs` aplicado em DEV/PROD (streams `dev/prod-{nginx,web,db,redis}`), health checks Route53: PROD `HTTPS:443`, DEV migrado para `HTTP:80` (TLS ainda n√£o emitido no DEV), alarmes reabilitados ap√≥s estabiliza√ß√£o.                                              | traceability-debt   |
| 2026-02-13 | I6                      | Deploy (fase 1, manual): script `scripts/aws_deploy_i6.py` para deploy via SSM por git ref em DEV/PROD com valida√ß√£o `/healthz` e render de Nginx por ambiente.                                                                                                                             | traceability-debt   |
| 2026-02-13 | S1                      | Alertas operacionais: regra EventBridge `auraxis-ssm-command-failures` -> SNS `auraxis-alerts` para falhas de SSM RunCommand (patching/backups/ops).                                                                                                                                        | traceability-debt   |
| 2026-02-13 | S1                      | Patching validado end-to-end: tasks de `AWS-RunPatchBaseline` re-registradas com `RebootIfNeeded` (DEV) e `NoReboot` (PROD) e valida√ß√£o executada via maintenance windows one-off agendadas (DEV+PROD: SUCCESS).                                                                            | traceability-debt   |
| 2026-02-09 | D (observacao)          | Restaurados arquivos deletados acidentalmente: ticker/carteira                                                                                                                                                                                                                              | n/a              |


## Proxima prioridade sugerida

- S1/S3 (P1): fechar controles de infraestrutura OWASP em AWS (`S1`) e integrar exporta√ß√£o central de m√©tricas/alertas de seguran√ßa (CloudWatch/Prometheus).
- G17 (P1): eliminar `ResourceWarning` remanescente da su√≠te (`tests/test_transaction_contract.py`) para manter execu√ß√£o 100% limpa e reproduz√≠vel no CI/local.

## Mapeamento Rebranding (nomenclatura legada -> `auraxis`)

Escopo do mapeamento em 2026-02-10 (com busca por identificadores legados e varia√ß√µes):

- Versionado:
  - documenta√ß√£o operacional atualizada para path padr√£o `/opt/auraxis`.
- N√£o versionado / ambiente local:
  - `.env`: chave de projeto SonarCloud com identificador legado (depende de migra√ß√£o no servi√ßo externo).
  - `.env`: nome de key pair AWS legado (renome√°vel sem impacto funcional obrigat√≥rio).
  - `.scannerwork/report-task.txt`: refer√™ncias internas de scan local (artefato tempor√°rio, n√£o versionado).

Pend√™ncias de substitui√ß√£o controlada:

- Ajustar nomes externos com potencial impacto operacional antes da troca definitiva:
  - projeto/chave no SonarCloud;
  - nomes de key pair/recursos AWS j√° provisionados (somente nomenclatura, sem impacto funcional direto).

## Plano GraphQL por Controller


| ID              | Controller               | Escopo GraphQL                                                                                         | Status      | Progresso | Risco                                                                           | Commit         |
| --------------- | ------------------------ | ------------------------------------------------------------------------------------------------------ | ----------- | --------- | ------------------------------------------------------------------------------- | -------------- |
| H1-AUTH         | `auth_controller`        | `registerUser`, `login`, `logout`                                                                      | Done        | 100%      | Baixo: fluxo autenticado e p√∫blico com contrato seguro e telemetria de prote√ß√£o contra abuso                          | traceability-debt |
| H1-USER         | `user_controller`        | `me`, `updateUserProfile`                                                                              | Done        | 100%      | Baixo: opera√ß√µes de usu√°rio com autoriza√ß√£o e valida√ß√£o alinhadas ao baseline de dom√≠nio                                             | traceability-debt |
| H1-TRANSACTIONS | `transaction_controller` | `transactions`, `transactionSummary`, `transactionDashboard`, `createTransaction`, `deleteTransaction` | Done        | 100%      | Baixo: paridade de opera√ß√µes e regras de neg√≥cio preservadas entre REST/GraphQL                                                 | traceability-debt |
| H1-WALLET       | `wallet_controller`      | `walletEntries`, `walletHistory`, `addWalletEntry`, `updateWalletEntry`, `deleteWalletEntry`           | Done        | 100%      | Baixo: consist√™ncia de c√°lculo/hist√≥rico validada em su√≠te de contrato e integra√ß√£o                                                | traceability-debt |
| H1-TICKER       | `graphql.schema`         | `tickers`, `addTicker`, `deleteTicker`                                                                 | Done        | 100%      | Baixo: ciclo de ticker por usu√°rio coberto com cen√°rios de conflito e n√£o encontrado                                               | traceability-debt |
| H1-QUERY-MOD    | `graphql.query`          | queries quebradas por dom√≠nio (`user/transaction/wallet/investment`) com `Query` composto por mixins  | Done        | 100%      | Baixo: compatibilidade mantida via facade legada em `app/graphql/query.py`     | traceability-debt |
| H1-HARDENING    | `graphql_controller`     | autoriza√ß√£o fina por opera√ß√£o, limites de complexidade/profundidade, observabilidade                   | Done        | 100%      | Baixo: observabilidade por dom√≠nio/custo adicionada com m√©tricas `graphql.*` e cobertura de regress√£o dedicada                     | traceability-debt |


## CD Automation (new)


| ID          | Area           | Tarefa                                                                                                                                                                            | Status      | Progresso | Risco                                                                                                                                                                                                    | Commit         | Ultima atualizacao |
| ----------- | -------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- | --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------- | ------------------ |
| CD-01       | CD             | Normalizar path de deploy para `/opt/auraxis` em DEV/PROD e eliminar ambiguidade com `/opt/flask_expenses`                                                                        | Done        | 100%      | Baixo: drift de path resolvido com converg√™ncia operacional em PROD + guardrail preventivo no deploy                                                                       | 54f405d, 43dffda | 2026-02-19         |
| CD-02       | CD             | Adicionar preflight obrigat√≥rio no deploy (`repo/env/vars/docker`) antes de alterar runtime                                                                                       | Done        | 100%      | Baixo: valida√ß√µes implementadas no `aws_deploy_i6.py` com falha expl√≠cita                                                                                                                                | 0bb9bad       | 2026-02-17         |
| CD-03       | CD             | Smoke test p√≥s-deploy com rollback autom√°tico em falha                                                                                                                            | Done        | 100%      | M√©dio: rollback autom√°tico depende de permiss√µes SSM corretas no role de deploy                                                                                                                          | 0bb9bad, 47d3617 | 2026-02-17         |
| CD-04       | CD             | Separar roles de deploy por ambiente (least-privilege: DEV vs PROD)                                                                                                               | Done        | 100%      | Baixo: DEV e PROD operando com roles dedicadas, valida√ß√µes de workflow e execu√ß√£o confirmada nos dois ambientes                                                             | f2b5637, 43dffda | 2026-02-19         |
| CD-05       | CD             | Publicar resumo de deploy (ref, command-id, smoke, rollback) no job summary + hist√≥rico local                                                                                     | Done        | 100%      | Baixo                                                                                                                                                                                                    | 0bb9bad       | 2026-02-17         |
| CD-06       | CD             | Migrar para deploy imut√°vel por imagem (ECR) e rollback por tag anterior                                                                                                          | Todo        | 0%        | M√©dio: mudan√ßa de estrat√©gia exige transi√ß√£o controlada                                                                                                                                                  |                | 2026-02-17         |
| CD-07       | CD             | Corrigir falha de bootstrap no deploy remoto (`missing required file: scripts/ensure_tls_runtime.sh`) com fallback compat√≠vel para refs legados e ambientes j√° provisionados      | Done        | 100%      | Baixo: bootstrap/scripts/env defaults, rollback sem `fetch` remoto e precheck expl√≠cito de auth Git reduziram fragilidade operacional; pend√™ncia estrat√©gica segue em CD-06 (deploy imut√°vel por imagem) | 705e4eb, 85dff6b, 47d3617, 4fcd320, 43905af, e3ceefc, dcbd9ef | 2026-02-18         |
| DX-01       | DX             | Criar aliases no macOS para sess√£o AWS/SSO (`auraxis-sso-login`, `auraxis-sso-logout`) e conex√£o r√°pida EC2 via SSM (`ec2-auraxis-dev-login`, `ec2-auraxis-prod-login`)           | Todo        | 0%        | Baixo                                                                                                                                                                                                    |                | 2026-02-17         |
| DX-02       | DX             | Habilitar acesso remoto ao EC2 no Cursor/VS Code via SSM (sem SSH aberto) com `ProxyCommand` e host por `instance-id`                                                             | Todo        | 0%        | M√©dio: configura√ß√£o local depende de plugin/CLI e perfil AWS                                                                                                                                             |                | 2026-02-17         |
| DX-03       | DX             | Documentar playbook de troubleshooting de acesso remoto (SSO expirado, session-manager-plugin, profile incorreto, known_hosts)                                                    | Todo        | 0%        | Baixo                                                                                                                                                                                                    |                | 2026-02-17         |
| GQL-ERR-01  | Technical Debt | Melhorar cat√°logo de erros GraphQL (mensagens claras e seguras por dom√≠nio, com c√≥digos padronizados e mapeamento consistente entre REST/GraphQL)                                 | Done        | 100%      | Baixo: cat√°logo central aplicado em auth/transaction/wallet/investment, com c√≥digos p√∫blicos padronizados e sem vazamento de detalhes internos                                                 | 99c61a9, 4d90407 | 2026-02-19         |
| API-TEST-01 | Technical Debt | Gerar collections e su√≠te de testes confi√°veis para Postman/API Dog (REST + GraphQL), com vari√°veis de ambiente, assertions e smoke/regression para aumentar robustez operacional | Done        | 100%      | Baixo: suite expandida + gate CI + smoke p√≥s-deploy em DEV/PROD cobrindo REST e GraphQL                                                                                                                   | 3c5ce7d, aec8d2f | 2026-02-19         |


## Changelog


| Data       | Item                   | Descricao                                                                                                                                                                                                                                                                                                    | Commit         |
| ---------- | ---------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------------- |
| 2026-02-17 | CD Plan                | Plano formal de automa√ß√£o de CD criado em `docs/CD_AUTOMATION_EXECUTION_PLAN.md` com fases, riscos, backlog e crit√©rios de aceite.                                                                                                                                                                           | n/a            |
| 2026-02-17 | DX Backlog             | Itens DX adicionados: aliases de acesso no macOS, conex√£o VS Code/Cursor via SSM e runbook de troubleshooting remoto.                                                                                                                                                                                        | n/a            |
| 2026-02-17 | CD Hardening           | Deploy SSM recebeu preflight obrigat√≥rio, switch TLS idempotente (`scripts/ensure_tls_runtime.sh`), smoke por edge/local e rollback autom√°tico no workflow `deploy.yml` (DEV/PROD), al√©m de resumo de deploy no job summary.                                                                                 | 0bb9bad       |
| 2026-02-18 | CD Incident            | Workflow DEV falhou com `missing required file: scripts/ensure_tls_runtime.sh` no alvo remoto. Plano aplicado: remover hard-fail pr√©-check de artefatos novos, bootstrap autom√°tico de templates/scripts legados no `aws_deploy_i6.py` e fallback de `git_ref` para `${GITHUB_SHA}` em `workflow_dispatch`.  | 705e4eb       |
| 2026-02-18 | CD Incident 2          | Novo ajuste de compatibilidade: `aws_deploy_i6.py` agora preenche defaults operacionais ausentes no `.env.prod` legado (`RATE_LIMIT_*` e `LOGIN_GUARD_*`) antes do preflight, mantendo valida√ß√£o estrita para segredos/DB/domain.                                                                            | 85dff6b       |
| 2026-02-18 | CD Incident 3          | Deploy DEV falhou no health check por valida√ß√£o incorreta de `127.0.0.1:8000` no host (porta n√£o exposta). Ajuste aplicado: readiness do `web` via `docker compose exec web` + valida√ß√£o edge (`http/https`) e dump autom√°tico de diagn√≥sticos (`compose ps/logs`) em caso de falha.                         | 47d3617       |
| 2026-02-18 | CD Incident 4          | Deploy DEV falhou com `syntax error near unexpected token fi` no script SSM tempor√°rio. Causa: bloco `if` com heredoc sem `then` expl√≠cito. Corre√ß√£o aplicada no `aws_deploy_i6.py` para restaurar sintaxe shell v√°lida.                                                                                     | 4fcd320       |
| 2026-02-18 | GraphQL UX/Security    | Erros GraphQL endurecidos: formatter preserva somente erros com c√≥digos p√∫blicos allowlisted em produ√ß√£o e mant√©m mascaramento para erros internos; muta√ß√µes de auth passaram a emitir c√≥digos expl√≠citos (`VALIDATION_ERROR`, `UNAUTHORIZED`, `CONFLICT`) para mensagens claras sem leak de infraestrutura. | 99c61a9       |
| 2026-02-18 | CD Incident 5          | Deploy PROD falhou por `git fetch` usando `github.com:22` em ambiente com egress restrito. Corre√ß√£o aplicada no `aws_deploy_i6.py` para for√ßar transporte Git via SSH sobre `443` (`ssh.github.com`) durante o fetch remoto via SSM.                                                                         | 43905af       |
| 2026-02-18 | CD Incident 6          | Rollback PROD falhou por depender de `git fetch` remoto e autentica√ß√£o SSH. Corre√ß√£o aplicada no `aws_deploy_i6.py`: rollback agora usa apenas commit local registrado no `deploy_state`, sem `fetch`; caso commit n√£o exista localmente, falha expl√≠cita com diagn√≥stico.                                   | e3ceefc       |
| 2026-02-18 | CD Incident 7          | Deploy PROD continuou falhando por aus√™ncia de chave SSH no usu√°rio operacional da inst√¢ncia. Hardening no `aws_deploy_i6.py`: precheck `git ls-remote` com falha expl√≠cita e mensagem de remedia√ß√£o antes de `fetch`, reduzindo ambiguidade operacional em incidentes futuros.                              | dcbd9ef       |
| 2026-02-18 | CD Incident 8          | Incidente `publickey` resolvido operacionalmente: chave SSH de deploy provisionada no usu√°rio `ubuntu` da inst√¢ncia PROD, mapeada para `ssh.github.com:443` via `~/.ssh/config` e cadastrada como Deploy Key no reposit√≥rio; deploy PROD voltou a executar com sucesso.                                      | n/a            |
| 2026-02-18 | CD-01 Progress         | `aws_deploy_i6.py` passou a canonicalizar path legado automaticamente (`/opt/auraxis -> /opt/flask_expenses`) quando necess√°rio, mantendo retrocompatibilidade e reduzindo drift entre hosts.                                                                                                                | 54f405d       |
| 2026-02-18 | CD-04 Progress         | Workflow `deploy.yml` passou a usar role OIDC dedicada por ambiente (`AWS_ROLE_ARN_DEV` e `AWS_ROLE_ARN_PROD`) para reduzir blast-radius e refor√ßar least privilege.                                                                                                                                         | f2b5637       |
| 2026-02-18 | API-TEST-01 Progress   | Suite inicial Postman/API Dog criada (`api-tests/postman` + `scripts/run_postman_suite.sh`) cobrindo smoke/regression REST+GraphQL com assertions de seguran√ßa para erro GraphQL p√∫blico sem leak de `INTERNAL_ERROR`.                                                                                       | 3c5ce7d       |
| 2026-02-18 | API-TEST-01 Validation | Suite Postman/API Dog executada com sucesso em DEV via Newman (6 requests / 13 assertions / 0 falhas); ajuste aplicado no cen√°rio GraphQL para refletir contrato HTTP 200 + `errors` no payload.                                                                                                             | 16ea4f0       |
| 2026-02-18 | C6 Planning            | Gap confirmado: existe suporte parcial em REST (`/transactions/expenses`) com range e pagina√ß√£o, mas sem paridade completa com GraphQL e sem todas as ordena√ß√µes solicitadas (ex.: por cart√£o / vencidas primeiro). Feature C6 adicionada ao backlog com plano de execu√ß√£o compartilhado REST+GraphQL.     | n/a            |
| 2026-02-19 | G11 Progress           | Implementados artefatos de governan√ßa como c√≥digo: `config/github_master_ruleset.json` (policy alvo), `scripts/github_ruleset_manager.py` (modo `audit/sync`) e workflow `Governance` para auditoria peri√≥dica/manual de ruleset em `master`.                                                            | 266a876       |
| 2026-02-19 | G11 Fix                | Ajuste de compatibilidade com restri√ß√£o de naming de secrets do GitHub: governan√ßa migrou de `GITHUB_ADMIN_TOKEN` para `TOKEN_GITHUB_ADMIN` (workflow + docs), mantendo fallback no script para nome legado.                                                                                                  | 32b10df       |
| 2026-02-19 | G11 Fix 2              | Corre√ß√£o de payload inv√°lido da API de Rulesets: removido `integration_id: null` de status checks no `config/github_master_ruleset.json` e adicionado normalizador defensivo no `github_ruleset_manager.py` para enviar `integration_id` apenas quando inteiro.                                             | 3bc9a63       |
| 2026-02-19 | G11 Fix 3              | `audit` de governan√ßa agora consulta o ruleset completo por `id` (`GET /rulesets/{id}`), evitando falso drift causado pelo endpoint resumido de listagem.                                                                                                                                                | 279322f       |
| 2026-02-19 | G9 Fix                 | Pipeline CI atualizado para tornar o job `Security Scan (Snyk)` obrigat√≥rio (sem `if` condicional), com valida√ß√£o expl√≠cita do secret `SNYK_TOKEN`.                                                                                                                                                   | 279322f       |
| 2026-02-19 | CD-01 Hardening 2      | `aws_deploy_i6.py` passou a bloquear deploy quando detectar drift real entre `/opt/auraxis` e `/opt/flask_expenses` (duas c√≥pias distintas), reduzindo risco de deploy no reposit√≥rio errado.                                                                                                          | 43dffda       |
| 2026-02-19 | CD-04 Hardening 2      | Workflow `deploy.yml` agora valida vari√°veis obrigat√≥rias de deploy (DEV/PROD) antes da autentica√ß√£o AWS e bloqueia deploy de PROD fora da branch `master`, reduzindo risco operacional e de release indevido.                                                                                          | 43dffda       |
| 2026-02-19 | CD-01 Resolution       | Converg√™ncia operacional conclu√≠da em PROD: `/opt/flask_expenses` alinhado ao path can√¥nico `/opt/auraxis`, eliminando drift detectado pelo guardrail de deploy.                                                                                                                                       | n/a            |
| 2026-02-19 | CD-04 Validation       | Deploy DEV e PROD executados com sucesso ap√≥s ajuste de permiss√µes IAM por ambiente (`ssm:SendCommand` + leitura de status de comandos) nas roles dedicadas.                                                                                                                                            | n/a            |
| 2026-02-19 | G11 Validation         | Workflow Governance executado em `audit` ap√≥s sync de ruleset e retornando conformidade (`Ruleset ... is compliant`).                                                                                                                                                                                    | n/a            |
| 2026-02-19 | API-TEST-01 Completion | Suite Postman/API Dog expandida com cen√°rios de erro seguro (REST/GraphQL) e deploy workflow passou a executar smoke HTTP p√≥s-deploy via `scripts/http_smoke_check.py` em DEV/PROD.                                                                                                                  | aec8d2f       |
| 2026-02-19 | G6 Completion          | Secret scanning calibrado com config versionada `.gitleaks.toml`, aplicada em pre-commit e CI (`gitleaks-action`) para reduzir diverg√™ncia de execu√ß√£o.                                                                                                                                                | aec8d2f       |
| 2026-02-19 | G7 Completion          | Schemathesis padronizado por script √∫nico (`scripts/run_schemathesis_contract.sh`) com seed determin√≠stico (`HYPOTHESIS_SEED`) em CI e execu√ß√£o local.                                                                                                                                                  | aec8d2f       |
| 2026-02-19 | G9 Completion          | Snyk mantido obrigat√≥rio e calibrado com args expl√≠citos para depend√™ncias (`--fail-on=all`) e container (`--exclude-base-image-vulns`) visando reduzir ru√≠do recorrente sem perder gate de alto risco.                                                                                               | aec8d2f       |
| 2026-02-19 | G15 Completion         | Calibra√ß√£o do Cursor Bugbot conclu√≠da: job `Review Signal (Cursor Bugbot)` adicionado ao CI em modo advisory via `scripts/pr_review_signal_check.py`, mantendo regraset sem obrigatoriedade de gate e com resumo no `Step Summary` para triagem cont√≠nua.                                           | 53b8f41       |
| 2026-02-19 | GQL-ERR-01 Progress    | Formata√ß√£o de erros GraphQL em produ√ß√£o evolu√≠da: erros p√∫blicos preservados por c√≥digo allowlist, erros de valida√ß√£o normalizados com `VALIDATION_ERROR` e sanitiza√ß√£o de mensagens/extens√µes (sem leak de `reason`).                                                                                 | 99c61a9       |
| 2026-02-19 | GQL-ERR-01 Completion  | Cat√°logo de erros GraphQL consolidado por dom√≠nio: utilit√°rio central (`app/graphql/errors.py`), c√≥digos p√∫blicos padronizados (`VALIDATION_ERROR`, `UNAUTHORIZED`, `FORBIDDEN`, `NOT_FOUND`, `CONFLICT`, `TOO_MANY_ATTEMPTS`, `AUTH_BACKEND_UNAVAILABLE`) e cobertura dedicada em `tests/test_graphql_error_catalog.py`. | 4d90407       |
| 2026-02-19 | I8 Progress            | Auditoria IAM evolu√≠da (`aws_iam_audit_i8.py`) para incluir roles de deploy DEV/PROD (a√ß√µes SSM m√≠nimas + subjects OIDC), refor√ßando verifica√ß√£o cont√≠nua de least-privilege.                                                                                                                        | 53b8f41       |
| 2026-02-19 | I8 Progress 2          | Auditoria cont√≠nua de IAM adicionada: novo workflow `aws-security-audit.yml` (agendado + manual), `aws_iam_audit_i8.py` com limiar de falha (`--fail-on`) e sa√≠da version√°vel (`--output-json`) + testes unit√°rios dedicados do script.                                                            | 53b8f41       |
| 2026-02-19 | I8 Completion          | Valida√ß√£o operacional conclu√≠da: PR mergeado e workflow `AWS Security Audit` executado com sucesso, fechando o ciclo de hardening de produ√ß√£o planejado no bloco A.                                                                                                                                  | n/a            |
| 2026-02-19 | Handoff / Retomada     | Documenta√ß√£o consolidada para retomada: snapshot de estado, prioridades execut√°veis do Ciclo B e checklist de continuidade sem perda de contexto operacional/t√©cnico.                                                                                                                               | 3a04fb9       |
| 2026-02-19 | B4 Planning            | Backlog de recupera√ß√£o de senha adicionado para pr√≥ximo ciclo de features (`B4..B7`): fluxo por link priorizado (endpoint + envio + reset) e OTP por SMS mantido em discovery com an√°lise de viabilidade, risco e custo.                                                                              | n/a            |
| 2026-02-19 | A8 Completion          | `GraphQL Query` modularizado em pacote `app/graphql/queries` por dom√≠nio (`user`, `transaction`, `wallet`, `investment`) no mesmo estilo de organiza√ß√£o de `mutations`, com facade de compatibilidade preservada em `app/graphql/query.py`.                                                          | 3de9e06       |
| 2026-02-19 | A7 Review              | Revis√£o arquitetural registrada: `wallet` permanece baseline mais maduro (DI expl√≠cita); `auth/user/transaction/graphql` mapeados para converg√™ncia gradual (dependencies/providers + serializers + recursos por caso de uso), sem altera√ß√£o de regra de neg√≥cio.                                     | d767a82       |
| 2026-02-19 | A7 Progress            | `auth` convergido para padr√£o de dom√≠nio com DI expl√≠cita: recursos separados (`register/login/logout`), `dependencies.py` com provider configur√°vel em `app.extensions`, `routes.py` idempotente e facade legada preservada em `auth/resources.py` e `auth_controller.py`.                         | 3d4294b       |
| 2026-02-19 | A7 Progress 2          | `user` convergido para padr√£o de dom√≠nio com DI expl√≠cita: recursos separados (`profile/me`), `dependencies.py` com provider configur√°vel em `app.extensions`, `routes.py` idempotente e facade legada preservada em `user/resources.py` e `user_controller.py`.                                    | 49e4564       |
| 2026-02-19 | A7 Progress 3          | `transaction` convergido parcialmente para padr√£o de dom√≠nio com DI expl√≠cita: adi√ß√£o de `dependencies.py` (factory de analytics), extra√ß√£o de `routes.py` idempotente e preserva√ß√£o de facade legada via `transaction_controller.py` (sem altera√ß√£o das regras de neg√≥cio).                          | 941eed0       |
| 2026-02-19 | A7 Completion          | Converg√™ncia final conclu√≠da para `transaction` e `graphql`: recursos de transa√ß√£o segregados (`create/update/delete`), DI registrado no app bootstrap, rotas idempotentes, facades legadas mantidas e compatibilidade de monkeypatch preservada para su√≠te de regress√£o.                            | d767a82       |
| 2026-02-20 | Docs Hygiene           | Remo√ß√£o das men√ß√µes de re-clone no `README.md`, `TASKS.md` e runbooks para manter documenta√ß√£o neutra de continuidade de workspace.                                                                                                                                | 9f02a38       |
| 2026-02-20 | E1 Completion          | Entrega do model `Goal` com relacionamento em `User`, migration dedicada (`goals`) e testes de modelo/persist√™ncia.                                                                                                                                               | ac084a4       |
| 2026-02-20 | E2 REST Completion     | CRUD REST `/goals` com filtros, pagina√ß√£o, ownership e contrato compat√≠vel v1/v2; OpenAPI atualizado e testes de contrato cobrindo fluxo completo.                                                                                                              | 76a75d3       |
| 2026-02-20 | E2 GraphQL Completion  | Paridade GraphQL de metas (`queries` e `mutations`) usando o mesmo dom√≠nio de servi√ßo, com cobertura de testes para CRUD e autoriza√ß√£o por ownership.                                                                                                          | 8f4cfdc       |
| 2026-02-20 | E3-E6 Completion       | Servi√ßo de planejamento de metas (`GoalPlanningService`) implementado com estrat√©gia de proje√ß√£o, plano por renda/gastos/capacidade, recomenda√ß√µes acion√°veis e simula√ß√£o what-if sem persist√™ncia em REST + GraphQL.                                      | 03b76db       |

## Debito tecnico de rastreabilidade (estabilizacao 01)

Contexto do bloco:
- Marcador `pending-commit` foi encerrado e substituido por rastreabilidade explicita.
- Snapshot do bloco (linhas de backlog/changelog): `216` ocorrencias de `pending-commit` -> `0`.
- Pendencia atual visivel (linhas de backlog/changelog): `152` ocorrencias de `traceability-debt`.

Interpretacao do marcador `traceability-debt`:
- Existe evid√™ncia de entrega no historico e/ou operacao, mas ainda sem hash canonico validado para aquela linha.
- A linha nao esta sem dono: precisa de consolidacao de rastreabilidade em lote historico.

Proximo passo sugerido (estabilizacao 01.1):
1. Resolver `traceability-debt` por blocos de data (2026-02-09 a 2026-02-13 primeiro).
2. Priorizar linhas `Done` antes de linhas `In Progress`.
3. Em linhas de operacao externa sem commit no repo, manter `n/a` com referencia ao runbook/incidente.

Pendencias que exigem validacao do maintainer:
1. Confirmar hash canonico para entregas antigas com squash/merge multiplo.
2. Definir regra oficial para linhas historicas com multiplos commits (1 hash principal vs lista de hashes).
3. Definir se `traceability-debt` deve bloquear novos ciclos de feature ou seguir em paralelo.
